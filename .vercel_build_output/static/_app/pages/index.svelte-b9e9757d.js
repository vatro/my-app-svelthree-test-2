var Qn=Object.defineProperty;var hn=Object.getOwnPropertySymbols;var Kn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable;var At=(r,e,t)=>e in r?Qn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ze=(r,e)=>{for(var t in e||(e={}))Kn.call(e,t)&&At(r,t,e[t]);if(hn)for(var t of hn(e))Zn.call(e,t)&&At(r,t,e[t]);return r};var R=(r,e,t)=>(At(r,typeof e!="symbol"?e+"":e,t),t);import{C as Jn,V as Ve,P as jn,Q as Je,R as dn,T as mn,U as gn,W as _e,X as yt,S as re,i as ie,s as oe,A as fe,Y as He,Z as at,j,m as X,o as $,_ as ct,x as F,u as z,v as ee,K as Ae,z as qe,$ as Ge,a0 as En,L as Rt,k as Le,l as je,n as be,f as ce,r as ze,w as We,d as te,M as Lt,N as bt,O as Tt,a1 as Sn,a2 as An,a3 as Xn,a4 as ye,a5 as B,e as wt,c as Pt,a as pt,b as Ie,a6 as $n,a7 as Xe,a8 as er,a9 as tr,aa as nr,ab as rr,ac as ir,ad as or,ae as yn,af as sr,ag as ar,ah as cr,ai as Rn,aj as ur,t as Vt,g as _t,I as ut,ak as xt,al as lr,am as fr,an as hr}from"../chunks/vendor-7634e919.js";const k=Jn([]);class Ue{}R(Ue,"CAM_ORTHO_FRUSTUM_SIZE",2.5),R(Ue,"CAM_ORTHO_ASPECT",1),R(Ue,"CAM_ORTHO_NEAR",.1),R(Ue,"CAM_ORTHO_FAR",2e3);const rt=class{};let K=rt;R(K,"SESSION_MODE_INLINE","inline"),R(K,"SESSION_MODE_AR","immersive-ar"),R(K,"SESSION_MODE_VR","immersive-vr"),R(K,"HITTEST_MODE_VIRTUAL","virtual"),R(K,"HITTEST_MODE_REALWORLD","realworld"),R(K,"DEFAULT_VR_XR_HITTEST_MODE",rt.HITTEST_MODE_VIRTUAL),R(K,"VR_INPUT_TYPE_GRIPPABLE","grippable"),R(K,"VR_INPUT_TYPE_HAND","hand"),R(K,"DEFAULT_VR_INPUT_TYPE",rt.VR_INPUT_TYPE_GRIPPABLE),R(K,"HAND_PROFILE_BOXES","boxes"),R(K,"HAND_PROFILE_SPHERES","spheres"),R(K,"HAND_PROFILE_OCULUS","oculus"),R(K,"DEFAULT_HAND_PROFILE",rt.HAND_PROFILE_BOXES),R(K,"some_text","some text");const Ke=class{};let Fe=Ke;R(Fe,"TIP",[4,9,14,19,24]),R(Fe,"DISTAL",[3,8,13,18,23]),R(Fe,"INTERMEDIATE",[7,12,17,22]),R(Fe,"PROXIMAL",[2,6,11,16,21]),R(Fe,"METACARPAL",[1,5,10,15,20]),R(Fe,"ALL",Ke.METACARPAL.concat(Ke.PROXIMAL,Ke.INTERMEDIATE,Ke.DISTAL,Ke.TIP));const it=class{};let nt=it;R(nt,"dirRayLfwdProps",{origin:new Ve(0,0,0),direction:new Ve(1,.15,0)}),R(nt,"dirRayRfwdProps",{origin:new Ve(0,0,0),direction:it.dirRayLfwdProps.direction.clone().negate()}),R(nt,"dirRayLdwnProps",{origin:new Ve(.025,0,0),direction:new Ve(.25,1,0)}),R(nt,"dirRayRdwnProps",{origin:it.dirRayLdwnProps.origin.clone().negate(),direction:it.dirRayLdwnProps.direction.clone().negate()});const Be=class{};let q=Be;R(q,"ENABLED_LEFT","left"),R(q,"ENABLED_RIGHT","right"),R(q,"ENABLED_BOTH","both"),R(q,"TOUCH_TEST_MODE_RAY","ray"),R(q,"TOUCH_TEST_MODE_SPHERE","sphere"),R(q,"LERP_FACTOR",.5),R(q,"TOUCH_DISTANCE",.008),R(q,"SPEEDFAC_JOINTSPEED_MULTIPLIER",2500),R(q,"SPEEDFAC_LIMIT_LOW",2),R(q,"SPEEDFAC_LIMIT_HIGH"),R(q,"MODE_SPHERE_RADIUS",Be.TOUCH_DISTANCE),R(q,"DBG_FACE_TOUCH_COL",65280),R(q,"DBG_FACE_UNTOUCH_COL",255),R(q,"DBG_FACE_TOUCHTHROUGH_ENTER_COL",16776960),R(q,"DBG_FACE_TOUCHTHROUGH_EXIT_COL",16711935),R(q,"DBG_FACE_SCRATCH_COL",13092807),R(q,"DBG_GHOST_TOUCH_COL",0),R(q,"DBG_CANCELED_TOUCH_COL",8421504),R(q,"DBG_JOINT_NORMAL_COL",4364769),R(q,"DBG_JOINT_TOUCH_COL",65280),R(q,"DBG_RAY_TENTACLE_BASE_COL",4364769),R(q,"DBG_RAY_TENTACLE_TOUCH_COL",16711680),R(q,"DBG_RAY_TENTACLE_NRAY_COL",16776960),R(q,"DBG_RAY_TENTACLE_TOCHING_COL",16776960),R(q,"DBG_RAY_TENTACLE_TESTRAY_COL",16711871),R(q,"DBG_RAY_TENTACLE_WIDTH_STD",2),R(q,"DBG_RAY_TENTACLE_WIDTH_TESTRAY",1),R(q,"DBG_RAY_TENTACLE_DIRSCALE",.02),R(q,"DBG_RAY_TENTACLE_TOUCHINGRAY_SCALE",Be.DBG_RAY_TENTACLE_DIRSCALE*3),R(q,"DBG_SPHERE_NAME","debuggerSphere"),R(q,"DBG_SPHERE_SEG_W",16),R(q,"DBG_SPHERE_SEG_H",16),R(q,"DBG_SPHERE_TOUCHED_COL",65280),R(q,"DBG_SPHERE_UNTOUCH_COL",16711680),R(q,"DBG_SPHERE_MAT_COL",65280),R(q,"DBG_SPHERE_MAT_TRANSP",!0),R(q,"DBG_SPHERE_MAT_OPACITY",.3),R(q,"DBG_SPHERE_DEFAULT_MAT_CONFIG",{color:Be.DBG_SPHERE_MAT_COL,transparent:Be.DBG_SPHERE_MAT_TRANSP,opacity:Be.DBG_SPHERE_MAT_OPACITY}),R(q,"ENABLETOUCH_HANDS_DEFAULT",[{hand:Be.ENABLED_BOTH,index:Fe.ALL}]);class Ye{static getOrthoCamDefaultParams(e){const t=e||Ue.CAM_ORTHO_FRUSTUM_SIZE,n=Ue.CAM_ORTHO_ASPECT,o=Ue.CAM_ORTHO_NEAR,i=Ue.CAM_ORTHO_FAR,s=t*n/-2,a=t*n/2,u=t/2,c=t/-2;return[s,a,u,c,o,i]}static updateOtrhoCam(e,t,n,o){if(t){const i=n/o;let s=t*i/-2,a=t*i/2,u=t/2,c=t/-2;e.left=s,e.right=a,e.top=u,e.bottom=c,e.updateProjectionMatrix()}}static logOrthoCamFrustumWarnings(e,t,n,o){const i="SVELTHREE > Camera / OrthographicCamera : Using 'frustumSize' and ",s=" prop can lead to undesired effects! ";e&&console.warn(`${i}'left'${s}`),t&&console.warn(`${i}'right'${s}`),n&&console.warn(`${i}'top'${s}`),o&&console.warn(`${i}'bottom'${s}`)}static updatePerspCam(e,t,n){e.aspect=t/n,e.updateProjectionMatrix()}static createHelper(e,t){const n=new jn(e);e.userData.helper=n,Ye.updateHelper(e),t.add(n),n.visible=!0,console.info("SVELTHREE > "+e.type+" HELPER added!",{camHelper:n,scene:t,total:t.children.length})}static updateHelper(e){e.userData.helper&&(e.userData.helper.update(),e.userData.helper.matrix.copy(e.matrix),e.userData.helper.matrixWorld.copy(e.matrixWorld))}static removeHelper(e,t){e.userData.helper&&(t.remove(e.userData.helper),e.userData.helper=null)}}class S{static getShortHandAttrWarnings(e){return{rot:`${e} 'rot' attribute ignored! : overridden by either 'matrix' or 'quat' attribute!`,pos:`${e} 'pos' attribute ignored! : overridden by 'matrix' attribute!`,quat:`${e} 'quat' attribute ignored! : overridden by 'matrix' attribute!`,scale:`${e} 'scale' attribute ignored! : overridden by 'matrix' attribute!`,lookAt:`${e} 'lookAt' attribute ignored! : overridden by 'matrix' attribute!`}}static warn(e){console.warn(e)}static log(){return!1}static isPropType(e){return(e==null?void 0:e.constructor)===Array||(e==null?void 0:e.constructor)===Ve||(e==null?void 0:e.constructor)===Je||(e==null?void 0:e.constructor)===dn||(e==null?void 0:e.constructor)===mn||(e==null?void 0:e.constructor)===gn}static isArray3Nums(e){return(e==null?void 0:e.constructor)===Array&&e.length===3&&!isNaN(e[0])&&!isNaN(e[1])&&!isNaN(e[2])}static isArray(e){return(e==null?void 0:e.constructor)===Array}static isColor(e){return(e==null?void 0:e.constructor)===Je}static isVector3(e){return(e==null?void 0:e.constructor)===Ve}static isMatrix4(e){return(e==null?void 0:e.constructor)===dn}static isMatrix4ParamsArray(e){return(e==null?void 0:e.constructor)===Array&&e.length===16&&e.every(t=>!isNaN(t))}static isEuler(e){return(e==null?void 0:e.constructor)===mn}static isEulerParamsArray(e){return(e==null?void 0:e.constructor)===Array&&e.length===4&&!isNaN(e[0])&&!isNaN(e[1])&&!isNaN(e[2])&&typeof e[3]=="string"}static isQuaternion(e){return(e==null?void 0:e.constructor)===gn}static isQuaternionParamsArray(e){return(e==null?void 0:e.constructor)===Array&&e.length===4&&e.every(t=>!isNaN(t))}static checkIfComplexValueType(e){if(Array.isArray(e)){if(S.isArray3Nums(e))return"Array3Nums";if(S.isEulerParamsArray(e))return"EulerParamsArray";if(S.isQuaternionParamsArray(e))return"QuaternionParamsArray";if(S.isMatrix4ParamsArray(e))return"Matrix4ParamsArray"}else{if(S.isVector3(e))return"Vector3";if(S.isColor(e))return"Color";if(S.isEuler(e))return"Euler";if(S.isQuaternion(e))return"Quaternion";if(S.isMatrix4(e))return"Matrix4"}}static setRotationFromValue(e,t,n){switch(n){case void 0:Array.isArray(t)?S.isArray3Nums(t)?S.setRotArray3(e,t):S.isEulerParamsArray(t)?S.setRotEulerArray(e,t):S.isQuaternionParamsArray(t)?S.setRotQuaternionArray(e,t):console.error("SVELTHREE > PropUtils > setRotationFromValue : invalid 'rotation' value!",{obj:e,value:t}):S.isEuler(t)?S.setRotEuler(e,t):S.isVector3(t)?S.setRotVector3(e,t):S.isQuaternion(t)?S.setRotQuaternion(e,t):console.error("SVELTHREE > PropUtils > setRotationFromValue : invalid 'rotation' value!",{obj:e,value:t});break;case"Euler":S.setRotEuler(e,t);break;case"EulerParamsArray":S.setRotEulerArray(e,t);break;case"Vector3":S.setRotVector3(e,t);break;case"Array3Nums":S.setRotArray3(e,t);break;case"Quaternion":S.setRotQuaternion(e,t);break;case"QuaternionParamsArray":S.setRotQuaternionArray(e,t);break;default:console.error("SVELTHREE > PropUtils > setRotationFromValue : invalid 'rotation' value! No such 'ComplexValueType'!",{obj:e,value:t,complex:n});break}}static setRotEuler(e,t){S.executeDecoratedMAU(e,()=>e.setRotationFromEuler(t))}static setRotEulerArray(e,t){S.executeDecoratedMAU(e,()=>e.rotation.set(t[0],t[1],t[2],t[3]))}static setRotVector3(e,t){S.executeDecoratedMAU(e,()=>e.rotation.set(t.x,t.y,t.z))}static setRotArray3(e,t){e.rotation.x=t[0],e.rotation.y=t[1],e.rotation.z=t[2],e.matrixAutoUpdate=!0,e.matrixWorldNeedsUpdate=!0}static setRot(e,t){e.rotation.set(t[0],t[1],t[2]),e.matrixAutoUpdate=!0,e.matrixWorldNeedsUpdate=!0}static setRotQuaternion(e,t){S.executeDecoratedMAU(e,()=>e.setRotationFromQuaternion(t))}static setRotQuaternionArray(e,t){S.executeDecoratedMAU(e,()=>e.quaternion.set(t[0],t[1],t[2],t[3]))}static setPositionFromValue(e,t,n){switch(n){case void 0:S.isArray3Nums(t)?S.setPositionFromArray3(e,t):S.isVector3(t)?S.setPositionFromVector3(e,t):console.error("SVELTHREE > PropUtils > setPositionFromValue : invalid 'position' value!",{obj:e,value:t});break;case"Array3Nums":S.setPositionFromArray3(e,t);break;case"Vector3":S.setPositionFromVector3(e,t);break;default:console.error("SVELTHREE > PropUtils > setPositionFromValue : invalid 'position' value! No such 'ComplexValueType'!",{obj:e,value:t,complex:n});break}}static setPositionFromVector3(e,t){S.executeDecoratedMAU(e,()=>e.position.copy(t))}static setPositionFromArray3(e,t){S.executeDecoratedMAU(e,()=>e.position.set(t[0],t[1],t[2]))}static setScaleFromValue(e,t,n){switch(n){case void 0:S.isArray3Nums(t)?S.setScaleFromArray3(e,t):S.isVector3(t)?S.setScaleFromVector3(e,t):console.error("SVELTHREE > PropUtils > setScaleFromValue : invalid 'scale' value!",{obj:e,value:t});break;case"Array3Nums":S.setScaleFromArray3(e,t);break;case"Vector3":S.setScaleFromVector3(e,t);break;default:console.error("SVELTHREE > PropUtils > setScaleFromValue : invalid 'scale' value! No such 'ComplexValueType'!",{obj:e,value:t,complex:n});break}}static setScaleFromVector3(e,t){S.executeDecoratedMAU(e,()=>e.scale.copy(t))}static setScaleFromArray3(e,t){S.executeDecoratedMAU(e,()=>e.scale.set(t[0],t[1],t[2]))}static executeDecoratedMAU(e,t){t(),e.matrixAutoUpdate===!1&&S.updateMatrixAndWorldMatrix(e)}static updateMatrixAndWorldMatrix(e){e.matrixAutoUpdate=!0,e.matrixWorldNeedsUpdate=!0}static setLookAtFromValue(e,t,n){e.updateMatrix();let o;t?(o=Object.getPrototypeOf(Object.getPrototypeOf(t)).constructor.name==="Object3D"?t.position:t,e.isLight?e.hasOwnProperty("target")?e.target.isObject3D?(e.matrixAutoUpdate===!1&&(e.target.matrixAutoUpdate=!1),e.target.parent===null?e.parent!==null?(e.parent.add(e.target),console.warn(`SVELTHREE > PropUtils > setLookAtFromValue : 'target' of ${e.type} was added to the parent of ${e.type}!`,{obj:e,target:e.target}),S.setPositionFromValue(e.target,o,n)):console.error(`SVELTHREE > PropUtils > setLookAtFromValue : 'target' of ${e.type} couldn't be added to the parent of ${e.type}! ${e.type} has no parent!`,{obj:e,target:e.target}):S.setPositionFromValue(e.target,o,n)):console.error("SVELTHREE > PropUtils > setLookAtFromValue : 'target' has to be an 'Object3D'!",{obj:e,target:e.target}):console.error(`SVELTHREE > PropUtils > setLookAtFromValue : ${e.type} has no 'target' property!`,{obj:e}):S.isArray3Nums(o)?(e.lookAt(o[0],o[1],o[2]),e.matrixAutoUpdate===!1&&S.updateMatrixAndWorldMatrix(e)):S.isVector3(o)?(e.lookAt(o),e.matrixAutoUpdate===!1&&S.updateMatrixAndWorldMatrix(e)):console.error("SVELTHREE > PropUtils > setLookAtFromValue : invalid 'lookAt' value!",{obj:e,value:o})):console.error("SVELTHREE > PropUtils > setLookAtFromValue : invalid 'lookAt' value!",{obj:e,value:o})}static setColorFromValueKey(e,t,n,o){S.isArray3Nums(t)?S.setColorFromArray(e,t,n):isNaN(t)?S.isColor(t)?S.setColorFromColor(e,t,n):typeof t=="string"?S.setColorFromString(e,t,n):console.error(`SVELTHREE > PropUtils > setColorFromValueKey : invalid '${n}' value!`,{obj:e,value:t}):S.setColorFromNumber(e,t,n)}static setColorFromArray(e,t,n){e[n].setRGB(t[0],t[1],t[2])}static setColorFromNumber(e,t,n){e[n].set(t)}static setColorFromColor(e,t,n){e[n].copy(t)}static setColorFromString(e,t,n){e[n].set(t)}static setIntensity(e,t){e.intensity=t}static setShadowMapSize(e,t){e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}static setShadowBias(e,t){e.shadow.bias=t}static setCastShadow(e,t){e.castShadow=t}static setShadowCameraProp(e,t,n){e.shadow.camera[t]=n,e.shadow.camera.updateProjectionMatrix()}static setShadowProp(e,t,n){e.shadow[t]=n,e.shadow.needsUpdate=!0}static setLightTarget(e,t){if(!t)console.warn("SVELTHREE > PropUtils > setLightTarget : invalid 'target' value!",{val:t});else if(t.isObject3D)e.target=t,S.updateMatrixAndWorldMatrix(t);else if(t.isEmpty){let n=t.getEmpty();e.target=n,S.updateMatrixAndWorldMatrix(n)}else console.error("SVELTHREE > PropUtils > setLightTarget : invalid 'target' value!",{val:t})}static inferMatrixAutoUpdate(e,t){switch(e.userData.matrixAutoUpdate){case void 0:e.matrixAutoUpdate=t||!0;break;default:e.matrixAutoUpdate=e.userData.matrixAutoUpdate;break}}static setMatrixFromValue(e,t,n){if(S.isMatrix4(t)){const o=e.matrixAutoUpdate;e.matrixAutoUpdate=!1,e.matrix.copy(t),e.matrixAutoUpdate=o,e.matrixWorldNeedsUpdate=!0}else if(S.isMatrix4ParamsArray(t)){const o=e.matrixAutoUpdate;e.matrixAutoUpdate=!1,e.matrix.set(...t).transpose(),e.matrixAutoUpdate=o,e.matrixWorldNeedsUpdate=!0}else console.error("SVELTHREE > PropUtils > setMatrixFromValue : invalid 'matrix' value!",{obj:e,value:t});S.inferMatrixAutoUpdate(e,!1)}static setQuaternionFromValue(e,t,n){S.inferMatrixAutoUpdate(e,!0),S.isQuaternion(t)?(e.quaternion.copy(t),e.matrixAutoUpdate===!1&&S.updateMatrixAndWorldMatrix(e)):console.error("SVELTHREE > PropUtils > setQuaternionFromValue : invalid 'quat' value!",{obj:e,value:t})}static applyValueToProp(e,t,n,o){try{e[n]=t}catch(i){throw console.error("SVELTHREE > PropUtils > applyValueToProp : failed!",{obj:e,value:t,key:n}),new Error("SVELTHREE Exception! "+i)}}static getChangedKeys(e,t){return Object.keys(e).filter(n=>_e(e[n],t[n]))}static updateProps(e,t,n,o){for(let i=0;i<e.length;i++){const s=e[i],a=t[s];S.isPropType(a)||n(o,s,a)}}}class $e{static tryIntensityUpdate(e,t){console.info("SVELTHREE > LightUtils > tryIntensityUpdate ",t);try{e.intensity=t}catch(n){throw new Error("SVELTHREE Exception, "+n)}}static tryColorUpdate(e,t){console.info("color",t);try{S.isArray(t)?S.isArray3Nums(t)?e.color=new Je(t[0],t[1],t[2]):console.error("SVELTHREE > LightUtils > tryColorUpdate : Prop should be an Array of three (3) values!",t):isNaN(t)?t instanceof Je&&(e.color=t):e.color=new Je(t)}catch(n){throw new Error("SVELTHREE Exception, "+n)}}static tryShadowMapSizeUpdate(e,t){console.info("SVELTHREE > LightUtils > tryShadowMapSizeUpdate",t);try{e.shadow.mapSize.width=t,e.shadow.mapSize.height=t}catch(n){throw new Error("SVELTHREE Exception, "+n)}}static tryShadowBiasUpdate(e,t){console.info("SVELTHREE > LightUtils > tryShadowBiasUpdate",t);try{e.shadow.bias=t}catch(n){throw new Error("SVELTHREE Exception, "+n)}}static tryCastShadowUpdate(e,t){console.info("SVELTHREE > LightUtils > tryCastShadowUpdate",t);try{e.castShadow=t}catch(n){throw new Error("SVELTHREE Exception, "+n)}}static tryShadowPropUpdate(e,t,n){console.info("SVELTHREE > LightUtils : tryShadowPropsUpdate",{key:t,value:n});try{yt(e.shadow,t)&&(console.info("SVELTHREE > LightUtils > tryShadowPropsUpdate : updating shadow prop! ",t),e.shadow[t]=n,e.shadow.needsUpdate=!0)}catch(o){throw new Error("SVELTHREE Exception, "+o)}}static tryShadowCameraPropUpdate(e,t,n){console.info("SVELTHREE > LightUtils : tryShadowCameraPropsUpdate",{key:t,value:n});try{yt(e.shadow.camera,t)&&(console.info("SVELTHREE > LightUtils > tryShadowCameraPropsUpdate : updating shadow prop!",t),e.shadow.camera[t]=n,e.shadow.camera.updateProjectionMatrix())}catch(o){throw new Error("SVELTHREE Exception, "+o)}}static addHelper(e,t,n){e.userData.helper=n,$e.updateHelper(e),t.add(n),n.visible=!0,console.info("SVELTHREE > "+e.type+" HELPER added!",{camHelper:e.userData.helper,scene:t,total:t.children.length})}static updateHelper(e){e.userData.helper&&(e.userData.helper.update(),e.userData.helper.matrix.copy(e.matrix),e.userData.helper.matrixWorld.copy(e.matrixWorld))}static removeHelper(e,t){e.userData.helper&&(t.remove(e.userData.helper),e.userData.helper=null)}}class lt{static getSTIfromScene(e,t){if(e){if(e.type==="Scene")return this.getSTI(e,t);throw console.warn(`SVELTHREE > ${t} : You have to provide a valid 'scene' prop of type 'Scene'!`,{scene:e}),new Error("SVELTHREE Exception (see warning above)")}else throw console.warn(`SVELTHREE > ${t} : You have to provide a {scene} prop!`,{scene:e}),new Error("SVELTHREE Exception (see warning above)")}static getSTI(e,t){if(e.userData.sti>=0)return e.userData.sti;throw console.warn(`SVELTHREE > ${t} : Failed to set 'sti' from 'scene.userData.sti', 'sti' has to be >= 0!`,{scene:e,userData:e.userData,sti:e.userData.sti}),new Error("SVELTHREE Exception (see warning above)")}}class Y{static getObjectType(e){return e.type||e.constructor.name}static update(e,t,n,o){const i=Y.getObjectType(e),s=yt(e,t),a=s?!1:!!e[t];if(s)switch(t){case"position":S.setPositionFromValue(e,n,o);break;case"rotation":S.setRotationFromValue(e,n,o);break;case"scale":S.setScaleFromValue(e,n,o);break;case"color":S.setColorFromValueKey(e,n,t,o);break;case"target":(i==="DirectionalLight"||i==="SpotLight")&&S.setLightTarget(e,n);break;case"quaternion":S.setQuaternionFromValue(e,n,o);break;case"matrix":S.setMatrixFromValue(e,n,o);break;case"groundColor":S.setColorFromValueKey(e,n,t,o);break;default:S.applyValueToProp(e,n,t);break}else if(a)switch(t){case"lookAt":S.setLookAtFromValue(e,n,o);break;default:if(i==="WebGLCubeRenderTarget"){let u=e;u.texture[t]=n}else console.error(`SVELTHREE > Propeller > ${i} : updating '${t}' is not implemented!`,{key:t,value:n});break}else console.error(`SVELTHREE > Propeller > ${i} : No such property in ${i}! : ${t}`,{key:t,value:n});if(s||a){if(i.includes("Material")){let u=e;u.needsUpdate=!0}i.includes("Camera")&&e.updateProjectionMatrix()}}}class dr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Array3Nums"),this.prevValues=[n[0],n[1],n[2]];break;case n:for(let o=0;o<3;o++)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"Array3Nums"),this.prevValues=[n[0],n[1],n[2]],this.prev=n;return}break;default:Y.update(e,t,n,"Array3Nums"),this.prevValues=[n[0],n[1],n[2]],this.prev=n;break}}}class mr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Euler"),this.setPrevValues(n);break;case n:for(let o in this.prevValues)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"Euler"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Euler"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues={_x:e.x,_y:e.y,_z:e.z,_order:e.order}}}class gr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"EulerParamsArray"),this.setPrevValues(n);break;case n:for(let o=0;o<4;o++)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"EulerParamsArray"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"EulerParamsArray"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues=[e[0],e[1],e[2],e[3]]}}class Er{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Matrix4"),this.setPrevValues(n);break;case n:for(let o=0;o<16;o++)if(_e(this.prevValues[o],n.elements[o])){Y.update(e,t,n,"Matrix4"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Matrix4"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues=[...e.elements]}}class Sr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Matrix4ParamsArray"),this.setPrevValues(n);break;case n:for(let o=0;o<16;o++)if(_e(this.prevValues[o],n.elements[o])){Y.update(e,t,n,"Matrix4ParamsArray"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Matrix4ParamsArray"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues=[...e.elements]}}class Ar{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Quaternion"),this.setPrevValues(n);break;case n:for(let o in n)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"Quaternion"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Quaternion"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues={x:e.x,y:e.y,z:e.z,w:e.w}}}class yr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"QuaternionParamsArray"),this.setPrevValues(n);break;case n:for(let o=0;o<4;o++)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"QuaternionParamsArray"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"QuaternionParamsArray"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues=[e[0],e[1],e[2],e[3]]}}class Rr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Vector3"),this.setPrevValues(n);break;case n:for(let o in n)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"Vector3"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Vector3"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues={x:e.x,y:e.y,z:e.z}}}class Lr{constructor(){R(this,"prev");R(this,"prevValues")}update(e,t,n){switch(this.prev){case void 0:this.prev=n,Y.update(e,t,n,"Color"),this.setPrevValues(n);break;case n:for(let o in this.prevValues)if(_e(this.prevValues[o],n[o])){Y.update(e,t,n,"Color"),this.setPrevValues(n),this.prev=n;return}break;default:Y.update(e,t,n,"Color"),this.setPrevValues(n),this.prev=n;break}}setPrevValues(e){this.prevValues={r:e.r,g:e.g,b:e.b}}}class Qe{constructor(e){R(this,"obj");R(this,"propsPrev");R(this,"simpleValues");R(this,"complexValues");R(this,"complexValuators",{Vector3:Rr,Array3Nums:dr,Euler:mr,EulerParamsArray:gr,Quaternion:Ar,QuaternionParamsArray:yr,Matrix4:Er,Matrix4ParamsArray:Sr,Color:Lr});this.obj=e}update(e){this.propsPrev?this.propsPrev!==e?(this.resetAndMap(e),this.propsPrev=e):this.checkProps(e):(this.resetAndMap(e),this.propsPrev=e)}resetAndMap(e){this.simpleValues={},this.complexValues=[];for(let t in e){let n=S.checkIfComplexValueType(e[t]);if(n){let o,i=this.complexValuators[n];o={key:t,value:new i,complex:n},this.complexValues.push(o),o.value.update(this.obj,t,e[t])}else this.simpleValues[t]=e[t],Y.update(this.obj,t,this.simpleValues[t])}}checkProps(e){for(let t=0;t<this.complexValues.length;t++)this.complexValues[t].value.update(this.obj,this.complexValues[t].key,e[this.complexValues[t].key]);for(let t in this.simpleValues)_e(this.simpleValues[t],e[t])&&(Y.update(this.obj,t,e[t]),this.simpleValues[t]=e[t])}}class Ln{constructor(e){R(this,"fn");this.fn=e}initiate(e,...t){let n;try{if(n=this.fn(e,t),!n.hasOwnProperty("onStart"))throw console.warn("SVELTHREE > Provided animation is missing 'onStart' function!",{animation:n}),new Error("SVELTHREE Exception (see warning above)");if(!n.hasOwnProperty("onDestroy"))throw console.warn("SVELTHREE > Provided animation has no 'onDestroy' function!",{animation:n}),new Error("SVELTHREE Exception (see warning above)")}catch(o){throw new Error("SVELTHREE Exception, "+o)}return n}}class br{constructor(e,t,n,o){R(this,"animation");R(this,"aniauto");R(this,"obj");R(this,"scene");this.animation=e,this.aniauto=t,this.obj=n,this.scene=o}handleCurrentSceneStatus(e){e?(console.warn("SVELTHREE > SvelthreeAnimationManager > handleCurrentSceneStatus : currentSceneActive = true!"),this.aniauto&&(console.warn("SVELTHREE > SvelthreeAnimationManager > handleCurrentSceneStatus : this.aniauto = true!"),this.handleSceneActive())):(console.warn("SVELTHREE > SvelthreeAnimationManager > handleCurrentSceneStatus : currentSceneActive = false!"),this.handleSceneInActive())}handleSceneActive(){console.warn("SVELTHREE > SvelthreeAnimationManager > handleSceneActive!"),this.animationInitiated()===!0?this.tryOnSceneReactivated():this.initiateAnimation()}initiateAnimation(){this.scene.userData.isActive||console.warn("SVELTHREE > SvelthreeAnimationManager : initiateAnimation : You're about to initiate an animation in an inactive Scene!"),this.animation=this.animation.initiate(this.obj,...arguments),console.info("SVELTHREE > SvelthreeAnimationManager > initiateAnimation : after initialization: this.animation:",this.animation);try{this.animation.onStart()}catch(e){throw new Error("SVELTHREE Exception, "+e)}}tryOnSceneReactivated(){this.animation.onSceneReactivated?this.animation.onSceneReactivated():console.warn("SVELTHREE > SvelthreeAnimationManager > tryOnSceneReactivated : Animation couldn't be started, missing 'onSceneReactivated' method!")}handleSceneInActive(){this.animationInitiated()===!0&&this.tryOnSceneDeactivated()}tryOnSceneDeactivated(){this.animation.onSceneDeactivated?this.animation.onSceneDeactivated():console.warn("SVELTHREE > SvelthreeAnimationManager > tryOnSceneDeactivated : Animation couldn't be stopped, missing 'onSceneDeactivated' method!")}startAni(){this.animationInitiated()===!1?this.initiateAnimation():console.warn("SVELTHREE > SvelthreeAnimationManager > startAni : animation has already been initiated! 'animation': ",this.animation)}destroyAnimation(){this.animation.hasOwnProperty("onDestroy")?this.animation.onDestroy():console.warn("SVELTHREE > SvelthreeAnimationManager > Unable to find 'onDestroy' method in 'animation': This may be a BUG in REPL and may be safe to ignore. Please check if your animation is running as intended and consider checking it in another environment. Contributions on this issue are welcome! : this.animation",this.animation)}animationInitiated(){if(this.animationIsAnimationProp())return!1;if(this.animationIsObject())return!0;throw console.warn("SVELTHREE > SvelthreeAnimationManager > animationInitiated? : 'animation': ",this.animation),new Error("SVELTHREE > SvelthreeAnimationManager > animationInitiated? : 'animation' prop is of unsupported type!")}animationIsAnimationProp(){return!!(this.animation&&this.animation instanceof Ln)}animationIsObject(){return!!(this.animation&&typeof this.animation=="object")}getAnimation(){if(this.animationInitiated())return this.animation}}function Tr(r,e,t){let{animationEnabled:n=void 0}=e,{animation:o=void 0}=e,{aniauto:i=void 0}=e,{obj:s=void 0}=e,{scene:a}=e,u;function c(){u||(t(0,o=new Ln(o)),t(9,u=new br(o,i,s,a)))}let{currentSceneActive:d}=e;function g(){if(u)return u.getAnimation();console.error("SVELTHREE > SvelthreeAnimation > destroyAnimation : missing SvelthreeAnimationManager!",{aniManager:u})}function m(){u?u.destroyAnimation():o&&n&&console.error("SVELTHREE > SvelthreeAnimation > destroyAnimation : missing SvelthreeAnimationManager!",{aniManager:u})}function D(){u?u.startAni():console.error("SVELTHREE > SvelthreeAnimation > destroyAnimation : missing SvelthreeAnimationManager!",{aniManager:u})}return fe(()=>()=>{console.info("SVELTHREE > onDestroy : SvelthreeAnimation"),m()}),r.$$set=h=>{"animationEnabled"in h&&t(1,n=h.animationEnabled),"animation"in h&&t(0,o=h.animation),"aniauto"in h&&t(2,i=h.aniauto),"obj"in h&&t(3,s=h.obj),"scene"in h&&t(4,a=h.scene),"currentSceneActive"in h&&t(5,d=h.currentSceneActive)},r.$$.update=()=>{r.$$.dirty&3&&o&&n&&c(),r.$$.dirty&544&&d&&u&&u.handleCurrentSceneStatus(d)},[o,n,i,s,a,d,g,m,D,u]}class Ct extends re{constructor(e){super();ie(this,e,Tr,null,oe,{animationEnabled:1,animation:0,aniauto:2,obj:3,scene:4,currentSceneActive:5,getAnimation:6,destroyAnimation:7,startAni:8})}get animationEnabled(){return this.$$.ctx[1]}set animationEnabled(e){this.$set({animationEnabled:e})}get animation(){return this.$$.ctx[0]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[2]}set aniauto(e){this.$set({aniauto:e})}get obj(){return this.$$.ctx[3]}set obj(e){this.$set({obj:e})}get scene(){return this.$$.ctx[4]}set scene(e){this.$set({scene:e})}get currentSceneActive(){return this.$$.ctx[5]}set currentSceneActive(e){this.$set({currentSceneActive:e})}get getAnimation(){return this.$$.ctx[6]}get destroyAnimation(){return this.$$.ctx[7]}get startAni(){return this.$$.ctx[8]}get $cty_config(){return{}}}function wr(r){let e,t,n;function o(s){r[32](s)}let i={animationEnabled:r[6],animation:r[2],aniauto:r[3],obj:r[0],scene:r[1]};return r[5]!==void 0&&(i.currentSceneActive=r[5]),e=new Ct({props:i}),r[31](e),He.push(()=>at(e,"currentSceneActive",o)),{c(){j(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){$(e,s,a),n=!0},p(s,a){const u={};a[0]&64&&(u.animationEnabled=s[6]),a[0]&4&&(u.animation=s[2]),a[0]&8&&(u.aniauto=s[3]),a[0]&1&&(u.obj=s[0]),a[0]&2&&(u.scene=s[1]),!t&&a[0]&32&&(t=!0,u.currentSceneActive=s[5],ct(()=>t=!1)),e.$set(u)},i(s){n||(F(e.$$.fragment,s),n=!0)},o(s){z(e.$$.fragment,s),n=!1},d(s){r[31](null),ee(e,s)}}}const et="color: red;font-weight:bold;",Pr="color: blue;font-weight:bold;",pr="color: green;font-weight:bold;";function Ht(r,e){console.log(`${r}!`,`${e}`)}function Vr(r,e,t){let n;Ae(r,k,x=>t(30,n=x));let{logInfo:o=!1}=e,{logRS:i=!1}=e,{logLC:s=!1}=e,{scene:a}=e,{sti:u}=e,{cam:c}=e,{id:d}=e,g;if(!c)throw console.warn("SVELTHREE > Camera : camera was not provided by parent component!",{cam:c}),new Error("SVELTHREE Exception (see warning above)");a.add(c),o&&console.info("SVELTHREE > Camera : "+c.type+" was added to scene!",{cam:c,scene:a,total:a.children.length}),c.userData.id=d,c.userData.isActive=!1,c.userData.indexInCameras=n[u].cameras.length,n[u].cameras.push({camera:c,id:d,isActive:!1});let{mau:m=void 0}=e,{pos:D=void 0}=e,{rot:h=void 0}=e,{quat:A=void 0}=e,{lookAt:C=void 0}=e,{matrix:v=void 0}=e,{frustumSize:T=void 0}=e,{animation:L=void 0}=e,{aniauto:M=void 0}=e,w,{props:O=void 0}=e;function b(){i&&console.log("%c*--------> Camera > reactive statement! props",`${et}`,O),w.update(O)}let{helper:U=void 0}=e;const Q=S.getShortHandAttrWarnings(`SVELTHREE > ${c.type} >`),G=S.warn;function Z(){i&&console.log("%c*--------> Camera > reactive statement! pos",`${et}`,D),S.setPositionFromValue(c,D)}function J(){i&&console.log("%c*--------> Camera > reactive statement! rot",`${et}`,h),S.setRotationFromValue(c,h)}function y(){i&&console.log("%c*--------> Camera > reactive statement! quat",`${et}`,A),S.setQuaternionFromValue(c,A)}function P(){i&&console.log("%c*--------> Camera > reactive statement! lookAt",`${et}`,C),S.setLookAtFromValue(c,C)}function I(){i&&console.log("%c*--------> Camera > reactive statement! matrix",`${et}`,v),S.setMatrixFromValue(c,v)}let N;function f(){N||(N=n[u].rendererComponent.$on("before_render_int",l))}function l(){c.updateMatrix(),c.updateMatrixWorld(),Ye.updateHelper(c)}function p(){N&&(N(),N=void 0)}let H=!1,W=!1;function he(){c.parent.remove(c)}function ue(){return n[u].cameras[c.userData.indexInCameras].camera}function de(){return n[u].cameras[c.userData.indexInCameras].camera.userData.indexInCameras}function me(){return u}function ge(){return a}function Re(){return g.getAnimation()}function Ee(){g.startAni()}let{fnOnMount:ne=void 0}=e;fe(ne?()=>ne(self):()=>(s&&Ht("*----> Camera > onMount",null),o&&console.info("SVELTHREE > onMount : Camera"),console.warn("SVELTHREE > onMount : Camera : cam.matrixAutoUpdate",c.matrixAutoUpdate),()=>{o&&console.info("SVELTHREE > onDestroy : Camera"),he()})),qe(()=>{s&&Ht("%c*------> Camera > afterUpdate",pr),c.matrixWorldNeedsUpdate===!1&&t(0,()=>c.matrixAutoUpdate=m,c,0)}),Ge(()=>{s&&Ht("%c*------> Camera > beforeUpdate",Pr)});function le(x){He[x?"unshift":"push"](()=>{g=x,t(4,g)})}function se(x){H=x,t(5,H),t(30,n),t(10,u),t(1,a)}return r.$$set=x=>{"logInfo"in x&&t(7,o=x.logInfo),"logRS"in x&&t(8,i=x.logRS),"logLC"in x&&t(9,s=x.logLC),"scene"in x&&t(1,a=x.scene),"sti"in x&&t(10,u=x.sti),"cam"in x&&t(0,c=x.cam),"id"in x&&t(11,d=x.id),"mau"in x&&t(12,m=x.mau),"pos"in x&&t(13,D=x.pos),"rot"in x&&t(14,h=x.rot),"quat"in x&&t(15,A=x.quat),"lookAt"in x&&t(16,C=x.lookAt),"matrix"in x&&t(17,v=x.matrix),"frustumSize"in x&&t(18,T=x.frustumSize),"animation"in x&&t(2,L=x.animation),"aniauto"in x&&t(3,M=x.aniauto),"props"in x&&t(19,O=x.props),"helper"in x&&t(20,U=x.helper),"fnOnMount"in x&&t(28,ne=x.fnOnMount)},r.$$.update=()=>{var x;r.$$.dirty[0]&4097&&c&&t(0,()=>c.matrixAutoUpdate=!!m,c,0),r.$$.dirty[0]&536870913&&!w&&c&&t(29,w=new Qe(c)),r.$$.dirty[0]&537395200&&O&&w&&b(),r.$$.dirty[0]&524289,r.$$.dirty[0]&139265&&(!v&&c&&D?Z():D&&c&&G(Q.pos)),r.$$.dirty[0]&180225&&(!v&&!A&&c&&h?J():h&&c&&G(Q.rot)),r.$$.dirty[0]&163841&&(!v&&c&&A?y():A&&c&&G(Q.quat)),r.$$.dirty[0]&196609&&(!v&&c&&C?P():C&&c&&G(Q.lookAt)),r.$$.dirty[0]&131073&&v&&c&&I(),r.$$.dirty[0]&1074791425&&(U&&c&&n[u].rendererComponent?f():p()),r.$$.dirty[0]&1073742850&&t(5,H=(x=n[u].scenes[a.userData.indexInScenes])==null?void 0:x.isActive),r.$$.dirty[0]&4&&t(6,W=!!L)},[c,a,L,M,g,H,W,o,i,s,u,d,m,D,h,A,C,v,T,O,U,he,ue,de,me,ge,Re,Ee,ne,w,n,le,se]}class _r extends re{constructor(e){super();ie(this,e,Vr,wr,oe,{logInfo:7,logRS:8,logLC:9,scene:1,sti:10,cam:0,id:11,mau:12,pos:13,rot:14,quat:15,lookAt:16,matrix:17,frustumSize:18,animation:2,aniauto:3,props:19,helper:20,removeCameraFromParent:21,getCamera:22,getIndexInCameras:23,getSTI:24,getScene:25,getAnimation:26,startAni:27,fnOnMount:28},null,[-1,-1])}get logInfo(){return this.$$.ctx[7]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[8]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[9]}set logLC(e){this.$set({logLC:e})}get scene(){return this.$$.ctx[1]}set scene(e){this.$set({scene:e})}get sti(){return this.$$.ctx[10]}set sti(e){this.$set({sti:e})}get cam(){return this.$$.ctx[0]}set cam(e){this.$set({cam:e})}get id(){return this.$$.ctx[11]}set id(e){this.$set({id:e})}get mau(){return this.$$.ctx[12]}set mau(e){this.$set({mau:e})}get pos(){return this.$$.ctx[13]}set pos(e){this.$set({pos:e})}get rot(){return this.$$.ctx[14]}set rot(e){this.$set({rot:e})}get quat(){return this.$$.ctx[15]}set quat(e){this.$set({quat:e})}get lookAt(){return this.$$.ctx[16]}set lookAt(e){this.$set({lookAt:e})}get matrix(){return this.$$.ctx[17]}set matrix(e){this.$set({matrix:e})}get frustumSize(){return this.$$.ctx[18]}set frustumSize(e){this.$set({frustumSize:e})}get animation(){return this.$$.ctx[2]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[3]}set aniauto(e){this.$set({aniauto:e})}get props(){return this.$$.ctx[19]}set props(e){this.$set({props:e})}get helper(){return this.$$.ctx[20]}set helper(e){this.$set({helper:e})}get removeCameraFromParent(){return this.$$.ctx[21]}get getCamera(){return this.$$.ctx[22]}get getIndexInCameras(){return this.$$.ctx[23]}get getSTI(){return this.$$.ctx[24]}get getScene(){return this.$$.ctx[25]}get getAnimation(){return this.$$.ctx[26]}get startAni(){return this.$$.ctx[27]}get fnOnMount(){return this.$$.ctx[28]}set fnOnMount(e){this.$set({fnOnMount:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["matrixAutoUpdate"]}}}}function xr(r){let e,t,n;function o(s){r[30](s)}let i={animationEnabled:r[6],animation:r[2],aniauto:r[3],obj:r[0],scene:r[1]};return r[5]!==void 0&&(i.currentSceneActive=r[5]),e=new Ct({props:i}),r[29](e),He.push(()=>at(e,"currentSceneActive",o)),{c(){j(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){$(e,s,a),n=!0},p(s,a){const u={};a[0]&64&&(u.animationEnabled=s[6]),a[0]&4&&(u.animation=s[2]),a[0]&8&&(u.aniauto=s[3]),a[0]&1&&(u.obj=s[0]),a[0]&2&&(u.scene=s[1]),!t&&a[0]&32&&(t=!0,u.currentSceneActive=s[5],ct(()=>t=!1)),e.$set(u)},i(s){n||(F(e.$$.fragment,s),n=!0)},o(s){z(e.$$.fragment,s),n=!1},d(s){r[29](null),ee(e,s)}}}const De="color: red;font-weight:bold;",Cr="color: blue;font-weight:bold;",Hr="color: green;font-weight:bold;";function vr(r){return!!r.hasOwnProperty("getEmpty")}function Ir(r){return!!r.hasOwnProperty("getMesh")}function vt(r,e){console.log(`${r}!`,`${e}`)}function Dr(r,e,t){let n;Ae(r,k,_=>t(28,n=_));let{logInfo:o=!1}=e,{logRS:i=!1}=e,{logLC:s=!1}=e,a,{scene:u}=e;const c=lt.getSTIfromScene(u,"Light");let{parent:d=void 0}=e,{parentForUs:g=void 0}=e,{light:m=void 0}=e;if(!m)throw console.warn("SVELTHREE > Light : light was not provided by parent component!",{light:m}),new Error("SVELTHREE Exception (see warning above)");d&&d!==m&&(g=d),D();function D(){g?m.parent!==g&&(g.add(m),o&&console.info("SVELTHREE > Light : "+m.type+" was added to parent!",{light:m,parent:g,scene:u,total:u.children.length})):m.parent!==u&&(u.add(m),o&&console.info("SVELTHREE > Light : "+m.type+" was added to scene!",{light:m,scene:u,total:u.children.length}))}let{mau:h=void 0}=e,{props:A=void 0}=e,{helper:C=void 0}=e,{animation:v=void 0}=e,{aniauto:T=void 0}=e,{pos:L=void 0}=e,{rot:M=void 0}=e,{quat:w=void 0}=e,{lookAt:O=void 0}=e,{target:b=void 0}=e,{matrix:U=void 0}=e,{color:Q=void 0}=e,{intensity:G=void 0}=e,Z=!1;function J(){Z=!1,m.hasOwnProperty("target")&&(vr(b)?t(0,()=>m.target=b.getEmpty(),m,1):Ir(b)?t(0,()=>m.target=b.getMesh(),m,1):b.isObject3D?t(0,()=>m.target=b,m,1):typeof b=="boolean"&&u.add(m.target))}let y=[0,0,0],P,I;function N(){i&&console.log("%c*--------> Light > reactive statement! startMonitoringTargetPosition!",`${De}`),I||(I=n[c].rendererComponent.$on("before_render_int",l))}function f(){I&&(I(),I=void 0)}function l(){var _;Z&&J(),((_=m.target)==null?void 0:_.isObject3D)&&m.target.parent!==null&&(y[0]=m.target.position.x,y[1]=m.target.position.y,y[2]=m.target.position.z,P===void 0?(P=[...y],H()):p()&&H()),m.updateMatrix(),m.updateMatrixWorld(),C&&$e.updateHelper(m)}function p(){for(let _=0;_<3;_++)if(y[_]!==P[_])return P=[...y],!0;return!1}function H(){m.target.matrixAutoUpdate===!1&&(m.target.updateMatrix(),m.target.updateMatrixWorld())}let W;function he(){i&&console.log("%c*--------> Light > reactive statement! props",`${De}`,A),W.update(A)}const ue=S.getShortHandAttrWarnings(`SVELTHREE > ${m.type} >`),de=S.warn;function me(){i&&console.log("%c*--------> Light > reactive statement! pos",`${De}`,L),S.setPositionFromValue(m,L)}function ge(){i&&console.log("%c*--------> Light > reactive statement! rot",`${De}`,M),S.setRotationFromValue(m,M)}function Re(){i&&console.log("%c*--------> Light > reactive statement! quat",`${De}`,w),S.setQuaternionFromValue(m,w)}function Ee(){i&&console.log("%c*--------> Light > reactive statement! lookAt",`${De}`,O),S.setLookAtFromValue(m,O)}function ne(){i&&console.log("%c*--------> Light > reactive statement! matrix",`${De}`,U),S.setMatrixFromValue(m,U)}function le(){i&&console.log("%c*--------> Light > reactive statement! intensity",`${De}`,G),S.setMatrixFromValue(m,G)}function se(){i&&console.log("%c*--------> Light > reactive statement! color",`${De}`,Q),S.setColorFromValueKey(m,Q,"color")}let x=!1,xe=!1,{fnOnMount:Ce=void 0}=e;fe(Ce?()=>Ce(self):()=>(s&&vt("*----> Light > onMount",null),o&&console.info("SVELTHREE > onMount : Light"),console.warn("SVELTHREE >  onMount : Light : light.matrixAutoUpdate",m.matrixAutoUpdate),()=>{o&&console.info("SVELTHREE > onDestroy : Light"),Se()})),Ge(()=>{s&&vt("%c*------> Light > beforeUpdate",Cr)}),qe(()=>{s&&vt("%c*------> Light > afterUpdate",Hr),m.matrixWorldNeedsUpdate===!1&&t(0,()=>m.matrixAutoUpdate=h,m,0)});function Se(){m.parent.remove(m)}function we(){return a.getAnimation()}function Pe(){a.startAni()}function ve(_){He[_?"unshift":"push"](()=>{a=_,t(4,a)})}function Me(_){x=_,t(5,x),t(28,n),t(1,u)}return r.$$set=_=>{"logInfo"in _&&t(8,o=_.logInfo),"logRS"in _&&t(9,i=_.logRS),"logLC"in _&&t(10,s=_.logLC),"scene"in _&&t(1,u=_.scene),"parent"in _&&t(11,d=_.parent),"parentForUs"in _&&t(7,g=_.parentForUs),"light"in _&&t(0,m=_.light),"mau"in _&&t(12,h=_.mau),"props"in _&&t(13,A=_.props),"helper"in _&&t(14,C=_.helper),"animation"in _&&t(2,v=_.animation),"aniauto"in _&&t(3,T=_.aniauto),"pos"in _&&t(15,L=_.pos),"rot"in _&&t(16,M=_.rot),"quat"in _&&t(17,w=_.quat),"lookAt"in _&&t(18,O=_.lookAt),"target"in _&&t(19,b=_.target),"matrix"in _&&t(20,U=_.matrix),"color"in _&&t(21,Q=_.color),"intensity"in _&&t(22,G=_.intensity),"fnOnMount"in _&&t(23,Ce=_.fnOnMount)},r.$$.update=()=>{var _,pe;r.$$.dirty[0]&4097&&m&&t(0,()=>m.matrixAutoUpdate=!!h,m,0),r.$$.dirty[0]&1572865&&!U&&m&&b&&(Z=!0),r.$$.dirty[0]&269484033&&(!U&&m&&((_=m.target)==null?void 0:_.isObject3D)&&n[c].rendererComponent?N():f()),r.$$.dirty[0]&134217729&&!W&&m&&t(27,W=new Qe(m)),r.$$.dirty[0]&134225920&&A&&W&&he(),r.$$.dirty[0]&1081345&&(!U&&m&&L?me():L&&m&&de(ue.pos)),r.$$.dirty[0]&1245185&&(!U&&!w&&m&&M?ge():M&&m&&de(ue.rot)),r.$$.dirty[0]&1179649&&(!U&&m&&w?Re():w&&m&&de(ue.quat)),r.$$.dirty[0]&1310721&&(!U&&m&&O?Ee():O&&m&&de(ue.lookAt)),r.$$.dirty[0]&1048577&&U&&m&&ne(),r.$$.dirty[0]&4194304&&G&&le(),r.$$.dirty[0]&2097152&&Q&&se(),r.$$.dirty[0]&268435458&&t(5,x=(pe=n[c].scenes[u.userData.indexInScenes])==null?void 0:pe.isActive),r.$$.dirty[0]&4&&v&&t(6,xe=!0)},[m,u,v,T,a,x,xe,g,o,i,s,d,h,A,C,L,M,w,O,b,U,Q,G,Ce,Se,we,Pe,W,n,ve,Me]}class bn extends re{constructor(e){super();ie(this,e,Dr,xr,oe,{logInfo:8,logRS:9,logLC:10,scene:1,parent:11,parentForUs:7,light:0,mau:12,props:13,helper:14,animation:2,aniauto:3,pos:15,rot:16,quat:17,lookAt:18,target:19,matrix:20,color:21,intensity:22,fnOnMount:23,removeLightFromParent:24,getAnimation:25,startAni:26},null,[-1,-1])}get logInfo(){return this.$$.ctx[8]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[9]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[10]}set logLC(e){this.$set({logLC:e})}get scene(){return this.$$.ctx[1]}set scene(e){this.$set({scene:e})}get parent(){return this.$$.ctx[11]}set parent(e){this.$set({parent:e})}get parentForUs(){return this.$$.ctx[7]}set parentForUs(e){this.$set({parentForUs:e})}get light(){return this.$$.ctx[0]}set light(e){this.$set({light:e})}get mau(){return this.$$.ctx[12]}set mau(e){this.$set({mau:e})}get props(){return this.$$.ctx[13]}set props(e){this.$set({props:e})}get helper(){return this.$$.ctx[14]}set helper(e){this.$set({helper:e})}get animation(){return this.$$.ctx[2]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[3]}set aniauto(e){this.$set({aniauto:e})}get pos(){return this.$$.ctx[15]}set pos(e){this.$set({pos:e})}get rot(){return this.$$.ctx[16]}set rot(e){this.$set({rot:e})}get quat(){return this.$$.ctx[17]}set quat(e){this.$set({quat:e})}get lookAt(){return this.$$.ctx[18]}set lookAt(e){this.$set({lookAt:e})}get target(){return this.$$.ctx[19]}set target(e){this.$set({target:e})}get matrix(){return this.$$.ctx[20]}set matrix(e){this.$set({matrix:e})}get color(){return this.$$.ctx[21]}set color(e){this.$set({color:e})}get intensity(){return this.$$.ctx[22]}set intensity(e){this.$set({intensity:e})}get fnOnMount(){return this.$$.ctx[23]}set fnOnMount(e){this.$set({fnOnMount:e})}get removeLightFromParent(){return this.$$.ctx[24]}get getAnimation(){return this.$$.ctx[25]}get startAni(){return this.$$.ctx[26]}get $cty_config(){return{0:{head_ctx_i:0,members:["matrixAutoUpdate"]},1:{head_ctx_i:0,members:["target"]}}}}function It(r){return{pointerId:1976+r.pointerId,width:r.width,height:r.height,pressure:r.pressure,tangentialPressure:r.tangentialPressure,tiltX:r.tangentialPressure,tiltY:r.tiltY,twist:r.twist,pointerType:r.pointerType,isPrimary:r.isPrimary,altKey:r.altKey,button:r.button,buttons:r.buttons,clientX:r.clientX,clientY:r.clientY,ctrlKey:r.ctrlKey,metaKey:r.metaKey,movementX:r.movementX,movementY:r.movementY,offsetX:r.offsetX,offsetY:r.offsetY,pageX:r.pageX,pageY:r.pageY,relatedTarget:r.relatedTarget,screenX:r.screenX,screenY:r.screenY,shiftKey:r.shiftKey,x:r.x,y:r.y}}function Mr(r,e,t){let n;Ae(r,k,f=>t(8,n=f));let{interactionEnabled:o}=e,{parent:i}=e,{sti:s}=e,{obj:a}=e,u,{dispatch:c}=e,d,g;function m(){d.addEventListener("click",A,!1),d.addEventListener("pointerup",A,!1),d.addEventListener("pointerdown",A,!1)}function D(){d.removeEventListener("click",A),d.removeEventListener("pointerup",A),d.removeEventListener("pointerdown",A)}let h={click:{check:w},pointerup:{check:w},pointerdown:{check:w},pointermove:{check:M}};function A(f){h.hasOwnProperty(f.type)&&h[f.type].check(f)}fe(()=>()=>{console.info("SVELTHREE > onDestroy : SvelthreeInteraction"),t(0,()=>a.userData.interact=!1,a,0),d&&(d.removeEventListener("pointermove",L),d.removeEventListener("click",A),d.removeEventListener("pointerup",A),d.removeEventListener("pointerdown",A),d.removeEventListener("pointermove",A))});let C=!1,v=!0,T;function L(f){if(U()){if(!C){let l=It(f);b("pointerenter",{type:"pointerenter",target:a,pointerData:l,raycasterData:T},!!i.onPointerEnter),b("pointerover",{type:"pointerover",target:a,pointerData:l,raycasterData:T},!!i.onPointerOver),C=!0,v=!1}}else if(!v){let l=It(f);b("pointerout",{type:"pointerout",target:a,pointerData:l,raycasterData:T},!!i.onPointerOut),b("pointerleave",{type:"pointerleave",target:a,pointerData:l,raycasterData:T},!!i.onPointerLeave),v=!0,C=!1}}function M(f){Object.keys(i.$$.callbacks).includes("pointermove")&&c(f.type,{event:f,target:a,unprojected:n[s].pointer.unprojected}),i.onPointerMove&&N(new CustomEvent(f.type,{detail:{event:f,target:a,unprojected:n[s].pointer.unprojected}}))}function w(f){U()&&(f.type==="click"&&O(f,!!i.onClick),f.type==="pointerup"&&O(f,!!i.onPointerUp),f.type==="pointerdown"&&O(f,!!i.onPointerDown))}function O(f,l){let p=It(f);b(f.type,{type:f.type,target:a,pointerData:p,raycasterData:T},l)}function b(f,l,p){if(c(f,l),p){let H=new CustomEvent(f,{detail:l});switch(f){case"click":i.onClick&&Q(H);break;case"pointerup":i.onPointerUp&&G(H);break;case"pointerdown":i.onPointerDown&&Z(H);break;case"pointerover":i.onPointerOver&&J(H);break;case"pointerout":i.onPointerOut&&y(H);break;case"pointerenter":i.onPointerOut&&P(H);break;case"pointerleave":i.onPointerLeave&&I(H);break}}}function U(){return n[s].allIntersections&&n[s].allIntersections.length>0&&n[s].allIntersections[0].object===a?(T={intersections:u.intersectObject(a),ray:u.ray,camera:u.camera,unprojectedPoint:new Ve(n[s].pointer.pos.x,n[s].pointer.pos.y,0).unproject(u.camera)},!0):!1}function Q(f){console.info("SVELTHREE > SvelthreeInteraction :internal onClickAction!"),typeof i.onClick=="function"?i.onClick(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onClick' object is not a valid function!")}function G(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerUpAction!"),typeof i.onPointerUp=="function"?i.onPointerUp(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerUp' object is not a function!")}function Z(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerDownAction!"),typeof i.onPointerDown=="function"?i.onPointerDown(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerDown' object is not a function!")}function J(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerOverAction!",f),typeof i.onPointerOver=="function"?i.onPointerOver(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerOver' object is not a function!")}function y(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerOutAction!",f),typeof i.onPointerOut=="function"?i.onPointerOut(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerOut' object is not a function!")}function P(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerEnterAction!",f),typeof i.onPointerEnter=="function"?i.onPointerEnter(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerEnter' object is not a function!")}function I(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerLeaveAction!",f),typeof i.onPointerLeave=="function"?i.onPointerLeave(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerLeave' object is not a function!")}function N(f){console.info("SVELTHREE > SvelthreeInteraction : internal onPointerMoveAction!"),typeof i.onPointerMove=="function"?i.onPointerMove(f):console.error("SVELTHREE > SvelthreeInteraction : provided 'onPointerMove' object is not a function!")}return r.$$set=f=>{"interactionEnabled"in f&&t(1,o=f.interactionEnabled),"parent"in f&&t(2,i=f.parent),"sti"in f&&t(3,s=f.sti),"obj"in f&&t(0,a=f.obj),"dispatch"in f&&t(4,c=f.dispatch)},r.$$.update=()=>{r.$$.dirty&264&&t(5,u=n[s].raycaster),r.$$.dirty&264&&t(6,d=n[s].canvas.dom),r.$$.dirty&67&&d&&(o&&a&&!a.userData.interact?(m(),t(0,()=>a.userData.interact=!0,a,0)):!o&&a&&a.userData.interact&&(D(),t(0,()=>a.userData.interact=!1,a,0))),r.$$.dirty&427&&(o?a&&u&&n[s].pointer.event!==g&&(t(7,g=n[s].pointer.event),L(g),A(g)):a&&a.userData.interact&&(t(0,()=>a.userData.interact=!1,a,0),D()))},[a,o,i,s,c,u,d,g,n]}class Or extends re{constructor(e){super();ie(this,e,Mr,null,oe,{interactionEnabled:1,parent:2,sti:3,obj:0,dispatch:4})}get interactionEnabled(){return this.$$.ctx[1]}set interactionEnabled(e){this.$set({interactionEnabled:e})}get parent(){return this.$$.ctx[2]}set parent(e){this.$set({parent:e})}get sti(){return this.$$.ctx[3]}set sti(e){this.$set({sti:e})}get obj(){return this.$$.ctx[0]}set obj(e){this.$set({obj:e})}get dispatch(){return this.$$.ctx[4]}set dispatch(e){this.$set({dispatch:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["userData","interact"]}}}}function kr(r,e,t){let n;Ae(r,k,w=>t(6,n=w));let{interactionEnabled:o}=e,{parent:i}=e,{sti:s}=e,{obj:a}=e,{dispatch:u}=e,c;function d(){c.addEventListener("select",D),c.addEventListener("selectstart",D),c.addEventListener("selectend",D)}function g(){c.removeEventListener("select",D),c.removeEventListener("selectstart",D),c.removeEventListener("selectend",D)}let m={select:{check:h},selectstart:{check:h},selectend:{check:h}};function D(w){m.hasOwnProperty(w.type)&&m[w.type].check(w)}fe(()=>(console.info("SVELTHREE > onMount : SvelthreeInteractionXR"),()=>{console.info("SVELTHREE > onDestroy : SvelthreeInteractionXR"),t(0,()=>a.userData.interact=!1,a,0),c&&(c.removeEventListener("select",D),c.removeEventListener("selectstart",D),c.removeEventListener("selectend",D))}));function h(w){v()&&(w.type==="select"&&A(w,!!i.onSelect),w.type==="selectstart"&&A(w,!!i.onSelectStart),w.type==="selectend"&&A(w,!!i.onSelectEnd))}function A(w,O){C(w.type,{type:w.type,target:a},O)}function C(w,O,b){if(u(w,O),b){let U=new CustomEvent(w,{detail:O});switch(w){case"select":i.onSelect&&T(U);break;case"selectstart":i.onSelectStart&&L(U);break;case"selectend":i.onSelectEnd&&M(U);break}}}function v(){return n[s].xr.hitTestMode===K.HITTEST_MODE_VIRTUAL&&n[s].allIntersections?n[s].allIntersections.length>0&&n[s].allIntersections[0].object===a:!1}function T(w){console.info("SVELTHREE > SvelthreeInteractionXR :internal onSelectAction!"),typeof i.onSelect=="function"?i.onSelect(w):console.error("SVELTHREE > SvelthreeInteractionXR : provided 'onSelect' object is not a valid function!")}function L(w){console.info("SVELTHREE > SvelthreeInteractionXR :internal onSelectStartAction!"),typeof i.onSelectStart=="function"?i.onSelectStart(w):console.error("SVELTHREE > SvelthreeInteractionXR : provided 'onSelectStart' object is not a valid function!")}function M(w){console.info("SVELTHREE > SvelthreeInteractionXR :internal onSelectEndAction!"),typeof i.onSelectEnd=="function"?i.onSelectEnd(w):console.error("SVELTHREE > SvelthreeInteractionXR : provided 'onSelectEnd' object is not a valid function!")}return r.$$set=w=>{"interactionEnabled"in w&&t(1,o=w.interactionEnabled),"parent"in w&&t(2,i=w.parent),"sti"in w&&t(3,s=w.sti),"obj"in w&&t(0,a=w.obj),"dispatch"in w&&t(4,u=w.dispatch)},r.$$.update=()=>{r.$$.dirty&72&&t(5,c=n[s].xr.controller),r.$$.dirty&35&&c&&(o&&a&&!a.userData.interact?(requestAnimationFrame(()=>d()),t(0,()=>a.userData.interact=!0,a,0)):!o&&a&&a.userData.interact&&(g(),t(0,()=>a.userData.interact=!1,a,0)))},[a,o,i,s,u,c,n]}class Ur extends re{constructor(e){super();ie(this,e,kr,null,oe,{interactionEnabled:1,parent:2,sti:3,obj:0,dispatch:4})}get interactionEnabled(){return this.$$.ctx[1]}set interactionEnabled(e){this.$set({interactionEnabled:e})}get parent(){return this.$$.ctx[2]}set parent(e){this.$set({parent:e})}get sti(){return this.$$.ctx[3]}set sti(e){this.$set({sti:e})}get obj(){return this.$$.ctx[0]}set obj(e){this.$set({obj:e})}get dispatch(){return this.$$.ctx[4]}set dispatch(e){this.$set({dispatch:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["userData","interact"]}}}}function Fr(r,e,t){let n;Ae(r,k,y=>t(6,n=y));let{interactionEnabled:o}=e,{parent:i}=e,{sti:s}=e,{obj:a}=e,{dispatch:u}=e,c,d,g;function m(){o&&a&&!a.userData.interact?(D(),t(0,()=>a.userData.interact=!0,a,0)):!o&&a&&a.userData.interact&&(A(),t(0,()=>a.userData.interact=!1,a,0))}function D(){for(let y=0;y<c;y++){const P=g.getController(y);h(P)}}function h(y){y.addEventListener("select",T),y.addEventListener("selectstart",T),y.addEventListener("selectend",T),y.addEventListener("squeeze",T),y.addEventListener("squeezestart",T),y.addEventListener("squeezeend",T)}function A(){for(let y=0;y<c;y++){const P=g.getController(y);C(P)}}function C(y){y.removeEventListener("select",T),y.removeEventListener("selectstart",T),y.removeEventListener("selectend",T),y.removeEventListener("squeeze",T),y.removeEventListener("squeezestart",T),y.removeEventListener("squeezeend",T)}let v={select:{check:L},selectstart:{check:L},selectend:{check:L},squeeze:{check:L},squeezestart:{check:L},squeezeend:{check:L}};function T(y){v.hasOwnProperty(y.type)&&v[y.type].check(y)}fe(()=>(console.info("SVELTHREE > onMount : SvelthreeInteractionVRGrippable"),m(),()=>{console.info("SVELTHREE > onDestroy : SvelthreeInteractionVRGrippable"),t(0,()=>a.userData.interact=!1,a,0),d&&g&&A()}));function L(y){const P=y.type;O(y.target.userData.intersections)&&(P==="select"&&M(y,!!i.onSelect),P==="selectstart"&&M(y,!!i.onSelectStart),P==="selectend"&&M(y,!!i.onSelectEnd),P==="squeeze"&&M(y,!!i.onSqueeze),P==="squeezestart"&&M(y,!!i.onSqueezeEnd),P==="squeezeend"&&M(y,!!i.onSqueezeEnd))}function M(y,P){const I=y.type,N={xrInputSource:y.target.userData.xrInputSource,controllerSpace:y.target,controllerSpaceType:y.target.userData.spaceType,controllerHandedness:y.target.userData.xrInputSource.handedness,targetObj:a};w(I,N,P)}function w(y,P,I){if(u(y,P),I){let N=new CustomEvent(y,{detail:P});switch(y){case"select":i.onSelect&&b(N);break;case"selectstart":i.onSelectStart&&U(N);break;case"selectend":i.onSelectEnd&&Q(N);break;case"squeeze":i.onSqueeze&&G(N);break;case"squeezestart":i.onSqueezeStart&&Z(N);break;case"squeezeend":i.onSqueezeEnd&&J(N);break}}}function O(y){return y?y.length>0&&y[0].object===a:!1}function b(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSelectAction!"),typeof i.onSelect=="function"?i.onSelect(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSelect' object is not a valid function!")}function U(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSelectStartAction!"),typeof i.onSelectStart=="function"?i.onSelectStart(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSelectStart' object is not a valid function!")}function Q(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSelectEndAction!"),typeof i.onSelectEnd=="function"?i.onSelectEnd(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSelectEnd' object is not a valid function!")}function G(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSqueezeAction!"),typeof i.onSqueeze=="function"?i.onSqueeze(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSqueeze' object is not a valid function!")}function Z(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSqueezeStartAction!"),typeof i.onSqueezeStart=="function"?i.onSqueezeStart(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSqueezeStart' object is not a valid function!")}function J(y){console.info("SVELTHREE > SvelthreeInteractionVRGrippable :internal onSqueezeEndAction!"),typeof i.onSqueezeEnd=="function"?i.onSqueezeEnd(y):console.error("SVELTHREE > SvelthreeInteractionVRGrippable : provided 'onSqueezeEnd' object is not a valid function!")}return r.$$set=y=>{"interactionEnabled"in y&&t(1,o=y.interactionEnabled),"parent"in y&&t(2,i=y.parent),"sti"in y&&t(3,s=y.sti),"obj"in y&&t(0,a=y.obj),"dispatch"in y&&t(4,u=y.dispatch)},r.$$.update=()=>{r.$$.dirty&72&&n[s].renderer&&(d=n[s].renderer),r.$$.dirty&72&&n[s].renderer.xr&&(g=n[s].renderer.xr),r.$$.dirty&72&&n[s].renderer.xr&&(g=n[s].renderer.xr),r.$$.dirty&72&&n[s].renderer.xr.getControllers().length>0&&t(5,c=n[s].renderer.xr.getControllers().length),r.$$.dirty&32&&c&&m(),r.$$.dirty&2&&o&&m()},[a,o,i,s,u,c,n]}class Nr extends re{constructor(e){super();ie(this,e,Fr,null,oe,{interactionEnabled:1,parent:2,sti:3,obj:0,dispatch:4})}get interactionEnabled(){return this.$$.ctx[1]}set interactionEnabled(e){this.$set({interactionEnabled:e})}get parent(){return this.$$.ctx[2]}set parent(e){this.$set({parent:e})}get sti(){return this.$$.ctx[3]}set sti(e){this.$set({sti:e})}get obj(){return this.$$.ctx[0]}set obj(e){this.$set({obj:e})}get dispatch(){return this.$$.ctx[4]}set dispatch(e){this.$set({dispatch:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["userData","interact"]}}}}function Br(r,e,t){let n;Ae(r,k,l=>t(10,n=l));let{interactionEnabled:o}=e,{parent:i}=e,{sti:s}=e,{obj:a}=e,{pinchRemote:u=void 0}=e,{pinchTouch:c=void 0}=e,{pinchHybrid:d=void 0}=e,{xrHandTouch:g=void 0}=e,{dispatch:m}=e,D,h,A;function C(){o&&a&&!a.userData.interact?(v(),t(0,()=>a.userData.interact=!0,a,0)):!o&&a&&a.userData.interact&&(T(),t(0,()=>a.userData.interact=!1,a,0))}function v(){for(let l=0;l<D;l++){let p=A.getHand(l);(u||c||d)&&(p.addEventListener("pinchstart",M),p.addEventListener("pinchend",M)),g&&(p.addEventListener("touch",M),p.addEventListener("untouch",M),p.addEventListener("touchthrough",M),p.addEventListener("scratch",M))}}function T(){if(h)for(let l=0;l<D;l++){let p=A.getHand(l);p.removeEventListener("pinchstart",M),p.removeEventListener("pinchend",M),p.removeEventListener("touch",M),p.removeEventListener("untouch",M),p.removeEventListener("touchthrough",M),p.removeEventListener("scratch",M)}}let L={pinchstart:{check:w},pinchend:{check:w},touch:{check:O},untouch:{check:O},touchthrough:{check:O},scratch:{check:O}};function M(l){L.hasOwnProperty(l.type)&&L[l.type].check(l)}function w(l){n[s].xr.enablePinch&&(u&&b(l),c&&U(l),d&&Q(l))}function O(l){n[s].xr.enablePinch&&(u&&b(l),c&&U(l),d&&Q(l))}function b(l){let p=l,H=l.target.userData.pinchRayLength;if(l.target.userData.pinchObject&&l.target.userData.pinchObject===a&&l.target.userData.pinchDistance>H)switch(l.type){case"pinchstart":p.type="pinchremotestart",G(p,!!i.onPinchRemoteStart);break;case"pinchend":p.type="pinchremoteend",G(p,!!i.onPinchRemoteEnd);break}}function U(l){let p=l,H=l.target.userData.pinchRayLength+.01;if(l.target.userData.pinchConfig.distance.touch&&(H=l.target.userData.pinchRayLength+l.target.userData.pinchConfig.distance.touch),l.target.userData.pinchObject&&l.target.userData.pinchObject===a&&l.target.userData.pinchDistance<=H)switch(l.type){case"pinchstart":p.type="pinchtouchstart",G(p,!!i.onPinchTouchStart);break;case"pinchend":p.type="pinchtouchend",G(p,!!i.onPinchTouchEnd);break}}function Q(l){let p=l,H=l.target.userData.pinchRayLength+.01;if(l.target.userData.pinchConfig.distance.touch&&(H=l.target.userData.pinchRayLength+l.target.userData.pinchConfig.distance.touch),l.target.userData.pinchObject&&l.target.userData.pinchObject===a)if(l.target.userData.pinchDistance>H)switch(l.type){case"pinchstart":p.type="pinchremotestart",G(p,!!i.onPinchRemoteStart);break;case"pinchend":p.type="pinchremoteend",G(p,!!i.onPinchRemoteEnd);break}else switch(l.type){case"pinchstart":p.type="pinchtouchstart",G(p,!!i.onPinchTouchStart);break;case"pinchend":p.type="pinchtouchend",G(p,!!i.onPinchTouchEnd);break}}fe(()=>(console.info("SVELTHREE > onMount : SvelthreeInteractionVRHands"),()=>{console.info("SVELTHREE > onDestroy : SvelthreeInteractionVRHands"),t(0,()=>a.userData.interact=!1,a,0),T()}));function G(l,p){Z(l.type,{type:l.type,obj:a,target:l.target,handedness:l.handedness},p)}function Z(l,p,H){if(m(l,p),H){let W=new CustomEvent(l,{detail:p});switch(l){case"pinchstart":i.onPinchStart&&J(W);break;case"pinchend":i.onPinchEnd&&y(W);break;case"pinchremotestart":i.onPinchRemoteStart&&P(W);break;case"pinchremoteeend":i.onPinchEnd&&I(W);break;case"pinchtouchstart":i.onPinchTouchStart&&N(W);break;case"pinchtouchend":i.onPinchTouchEnd&&f(W);break}}}function J(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchStartAction!"),typeof i.onPinchStart=="function"?i.onPinchStart(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchStart' object is not a valid function!")}function y(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchEndAction!"),typeof i.onPinchEnd=="function"?i.onPinchEnd(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchEnd' object is not a valid function!")}function P(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchRemoteStartAction!"),typeof i.onPinchRemoteStart=="function"?i.onPinchRemoteStart(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchRemoteStart' object is not a valid function!")}function I(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchRemoteEndAction!"),typeof i.onPinchRemoteEnd=="function"?i.onPinchRemoteEnd(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchRemoteEnd' object is not a valid function!")}function N(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchTouchStartAction!"),typeof i.onPinchTouchStart=="function"?i.onPinchTouchStart(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchTouchStart' object is not a valid function!")}function f(l){console.info("SVELTHREE > SvelthreeInteractionVRHands :internal onPinchTouchEndAction!"),typeof i.onPinchTouchEnd=="function"?i.onPinchTouchEnd(l):console.error("SVELTHREE > SvelthreeInteractionVRHands : provided 'onPinchTouchEnd' object is not a valid function!")}return r.$$set=l=>{"interactionEnabled"in l&&t(1,o=l.interactionEnabled),"parent"in l&&t(2,i=l.parent),"sti"in l&&t(3,s=l.sti),"obj"in l&&t(0,a=l.obj),"pinchRemote"in l&&t(4,u=l.pinchRemote),"pinchTouch"in l&&t(5,c=l.pinchTouch),"pinchHybrid"in l&&t(6,d=l.pinchHybrid),"xrHandTouch"in l&&t(7,g=l.xrHandTouch),"dispatch"in l&&t(8,m=l.dispatch)},r.$$.update=()=>{r.$$.dirty[0]&1032&&n[s].renderer&&(h=n[s].renderer),r.$$.dirty[0]&1032&&n[s].renderer.xr&&(A=n[s].renderer.xr),r.$$.dirty[0]&1032&&n[s].renderer.xr&&(A=n[s].renderer.xr),r.$$.dirty[0]&1032&&n[s].renderer.xr.getControllers().length>0&&t(9,D=n[s].renderer.xr.getControllers().length),r.$$.dirty[0]&512&&D&&C(),r.$$.dirty[0]&2&&o&&C()},[a,o,i,s,u,c,d,g,m,D,n]}class qr extends re{constructor(e){super();ie(this,e,Br,null,oe,{interactionEnabled:1,parent:2,sti:3,obj:0,pinchRemote:4,pinchTouch:5,pinchHybrid:6,xrHandTouch:7,dispatch:8},null,[-1,-1])}get interactionEnabled(){return this.$$.ctx[1]}set interactionEnabled(e){this.$set({interactionEnabled:e})}get parent(){return this.$$.ctx[2]}set parent(e){this.$set({parent:e})}get sti(){return this.$$.ctx[3]}set sti(e){this.$set({sti:e})}get obj(){return this.$$.ctx[0]}set obj(e){this.$set({obj:e})}get pinchRemote(){return this.$$.ctx[4]}set pinchRemote(e){this.$set({pinchRemote:e})}get pinchTouch(){return this.$$.ctx[5]}set pinchTouch(e){this.$set({pinchTouch:e})}get pinchHybrid(){return this.$$.ctx[6]}set pinchHybrid(e){this.$set({pinchHybrid:e})}get xrHandTouch(){return this.$$.ctx[7]}set xrHandTouch(e){this.$set({xrHandTouch:e})}get dispatch(){return this.$$.ctx[8]}set dispatch(e){this.$set({dispatch:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["userData","interact"]}}}}function Gr(r,e,t){let{light:n}=e,{shadowMapSize:o=void 0}=e,{shadowBias:i=void 0}=e,{shadowCameraProps:s=void 0}=e,{shadowProps:a=void 0}=e,u,c,{castShadow:d=void 0}=e;return r.$$set=g=>{"light"in g&&t(0,n=g.light),"shadowMapSize"in g&&t(1,o=g.shadowMapSize),"shadowBias"in g&&t(2,i=g.shadowBias),"shadowCameraProps"in g&&t(3,s=g.shadowCameraProps),"shadowProps"in g&&t(4,a=g.shadowProps),"castShadow"in g&&t(5,d=g.castShadow)},r.$$.update=()=>{r.$$.dirty&65&&n&&!u&&t(6,u=new Qe(n.shadow.camera)),r.$$.dirty&129&&n&&!c&&t(7,c=new Qe(n.shadow)),r.$$.dirty&72&&s&&u&&u.update(s),r.$$.dirty&144&&a&&c&&c.update(a),r.$$.dirty&3&&o&&S.setShadowMapSize(n,o),r.$$.dirty&5&&i&&S.setShadowBias(n,i),r.$$.dirty&33&&d&&S.setCastShadow(n,d)},[n,o,i,s,a,d,u,c]}class zr extends re{constructor(e){super();ie(this,e,Gr,null,oe,{light:0,shadowMapSize:1,shadowBias:2,shadowCameraProps:3,shadowProps:4,castShadow:5})}get light(){return this.$$.ctx[0]}set light(e){this.$set({light:e})}get shadowMapSize(){return this.$$.ctx[1]}set shadowMapSize(e){this.$set({shadowMapSize:e})}get shadowBias(){return this.$$.ctx[2]}set shadowBias(e){this.$set({shadowBias:e})}get shadowCameraProps(){return this.$$.ctx[3]}set shadowCameraProps(e){this.$set({shadowCameraProps:e})}get shadowProps(){return this.$$.ctx[4]}set shadowProps(e){this.$set({shadowProps:e})}get castShadow(){return this.$$.ctx[5]}set castShadow(e){this.$set({castShadow:e})}get $cty_config(){return{}}}function Wr(r){let e,t,n={scene:r[1],sti:r[14],cam:r[12],id:r[2],mau:r[3],helper:r[0],pos:r[4],rot:r[5],quat:r[6],lookAt:r[7],matrix:r[8],props:r[9],animation:r[10],aniauto:r[11]};return e=new _r({props:n}),r[27](e),{c(){j(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,i){$(e,o,i),t=!0},p(o,[i]){const s={};i&2&&(s.scene=o[1]),i&4096&&(s.cam=o[12]),i&4&&(s.id=o[2]),i&8&&(s.mau=o[3]),i&1&&(s.helper=o[0]),i&16&&(s.pos=o[4]),i&32&&(s.rot=o[5]),i&64&&(s.quat=o[6]),i&128&&(s.lookAt=o[7]),i&256&&(s.matrix=o[8]),i&512&&(s.props=o[9]),i&1024&&(s.animation=o[10]),i&2048&&(s.aniauto=o[11]),e.$set(s)},i(o){t||(F(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){r[27](null),ee(e,o)}}}function Yr(r,e,t){let n;Ae(r,k,I=>t(26,n=I));let{scene:o}=e;const i=lt.getSTIfromScene(o,"PerspectiveCamera");let{id:s=void 0}=e;if(!s)throw console.warn("SVELTHREE > PerspectiveCamera : you have to provide an 'id' prop (not empty String) for Cameras in order to assign them to a 'WebGLRenderer' component!",{id:s}),new Error("SVELTHREE Exception (see warning above)");let{params:a=void 0}=e,{mau:u=void 0}=e,{pos:c=void 0}=e,{rot:d=void 0}=e,{quat:g=void 0}=e,{lookAt:m=void 0}=e,{matrix:D=void 0}=e,{props:h=void 0}=e,{animation:A=void 0}=e,{aniauto:C=!1}=e,{helper:v=void 0}=e,T,L;a&&a.length>0?L=new En(...a):L=new En;let M,w,O;function b(){return s}function U(){return i}function Q(){return T.getCamera()}function G(){return T.getIndexInCameras()}function Z(){return L.userData.helper}function J(I){t(0,v=I)}function y(){return v}fe(()=>(console.info("SVELTHREE > onMount : "+L.type),()=>{console.info("SVELTHREE > onDestroy : "+L.type),Ye.removeHelper(L,o)}));function P(I){He[I?"unshift":"push"](()=>{T=I,t(13,T)})}return r.$$set=I=>{"scene"in I&&t(1,o=I.scene),"id"in I&&t(2,s=I.id),"params"in I&&t(15,a=I.params),"mau"in I&&t(3,u=I.mau),"pos"in I&&t(4,c=I.pos),"rot"in I&&t(5,d=I.rot),"quat"in I&&t(6,g=I.quat),"lookAt"in I&&t(7,m=I.lookAt),"matrix"in I&&t(8,D=I.matrix),"props"in I&&t(9,h=I.props),"animation"in I&&t(10,A=I.animation),"aniauto"in I&&t(11,C=I.aniauto),"helper"in I&&t(0,v=I.helper)},r.$$.update=()=>{r.$$.dirty&4099&&L&&!L.userData.helper&&v&&Ye.createHelper(L,o),r.$$.dirty&4099&&L&&L.userData.helper&&!v&&Ye.removeHelper(L,o),r.$$.dirty&67108864&&t(23,M=n[i].canvas.dom),r.$$.dirty&67108864&&t(24,w=n[i].canvas.dim.w),r.$$.dirty&67108864&&t(25,O=n[i].canvas.dim.h),r.$$.dirty&58724352&&(w||O)&&M&&Ye.updatePerspCam(L,w,O)},[v,o,s,u,c,d,g,m,D,h,A,C,L,T,i,a,b,U,Q,G,Z,J,y,M,w,O,n,P]}class Qr extends re{constructor(e){super();ie(this,e,Yr,Wr,oe,{scene:1,id:2,params:15,mau:3,pos:4,rot:5,quat:6,lookAt:7,matrix:8,props:9,animation:10,aniauto:11,helper:0,getId:16,getSTI:17,getCamera:18,getIndexInCameras:19,getHelper:20,setHelperAttr:21,getHelperAttr:22})}get scene(){return this.$$.ctx[1]}set scene(e){this.$set({scene:e})}get id(){return this.$$.ctx[2]}set id(e){this.$set({id:e})}get params(){return this.$$.ctx[15]}set params(e){this.$set({params:e})}get mau(){return this.$$.ctx[3]}set mau(e){this.$set({mau:e})}get pos(){return this.$$.ctx[4]}set pos(e){this.$set({pos:e})}get rot(){return this.$$.ctx[5]}set rot(e){this.$set({rot:e})}get quat(){return this.$$.ctx[6]}set quat(e){this.$set({quat:e})}get lookAt(){return this.$$.ctx[7]}set lookAt(e){this.$set({lookAt:e})}get matrix(){return this.$$.ctx[8]}set matrix(e){this.$set({matrix:e})}get props(){return this.$$.ctx[9]}set props(e){this.$set({props:e})}get animation(){return this.$$.ctx[10]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[11]}set aniauto(e){this.$set({aniauto:e})}get helper(){return this.$$.ctx[0]}set helper(e){this.$set({helper:e})}get getId(){return this.$$.ctx[16]}get getSTI(){return this.$$.ctx[17]}get getCamera(){return this.$$.ctx[18]}get getIndexInCameras(){return this.$$.ctx[19]}get getHelper(){return this.$$.ctx[20]}get setHelperAttr(){return this.$$.ctx[21]}get getHelperAttr(){return this.$$.ctx[22]}get $cty_config(){return{}}}const Kr=r=>({scene:r[0]&4,parent:r[0]&2}),Tn=r=>({scene:r[2],parent:r[1]});function wn(r){let e,t,n;function o(s){r[81](s)}let i={animationEnabled:r[12],animation:r[3],aniauto:r[4],obj:r[0],scene:r[2]};return r[11]!==void 0&&(i.currentSceneActive=r[11]),e=new Ct({props:i}),r[80](e),He.push(()=>at(e,"currentSceneActive",o)),{c(){j(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){$(e,s,a),n=!0},p(s,a){const u={};a[0]&4096&&(u.animationEnabled=s[12]),a[0]&8&&(u.animation=s[3]),a[0]&16&&(u.aniauto=s[4]),a[0]&1&&(u.obj=s[0]),a[0]&4&&(u.scene=s[2]),!t&&a[0]&2048&&(t=!0,u.currentSceneActive=s[11],ct(()=>t=!1)),e.$set(u)},i(s){n||(F(e.$$.fragment,s),n=!0)},o(s){z(e.$$.fragment,s),n=!1},d(s){r[80](null),ee(e,s)}}}function Pn(r){let e,t;return e=new Or({props:{sti:r[18],dispatch:r[17],obj:r[0],parent:r[16],interactionEnabled:r[13]}}),{c(){j(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){$(e,n,o),t=!0},p(n,o){const i={};o[0]&1&&(i.obj=n[0]),o[0]&8192&&(i.interactionEnabled=n[13]),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function pn(r){let e,t,n,o=r[14]===K.SESSION_MODE_AR&&Vn(r),i=r[14]===K.SESSION_MODE_VR&&_n(r);return{c(){o&&o.c(),e=Le(),i&&i.c(),t=je()},l(s){o&&o.l(s),e=be(s),i&&i.l(s),t=je()},m(s,a){o&&o.m(s,a),ce(s,e,a),i&&i.m(s,a),ce(s,t,a),n=!0},p(s,a){s[14]===K.SESSION_MODE_AR?o?(o.p(s,a),a[0]&16384&&F(o,1)):(o=Vn(s),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(ze(),z(o,1,1,()=>{o=null}),We()),s[14]===K.SESSION_MODE_VR?i?(i.p(s,a),a[0]&16384&&F(i,1)):(i=_n(s),i.c(),F(i,1),i.m(t.parentNode,t)):i&&(ze(),z(i,1,1,()=>{i=null}),We())},i(s){n||(F(o),F(i),n=!0)},o(s){z(o),z(i),n=!1},d(s){o&&o.d(s),s&&te(e),i&&i.d(s),s&&te(t)}}}function Vn(r){let e,t;return e=new Ur({props:{sti:r[18],dispatch:r[17],obj:r[0],parent:r[16],interactionEnabled:r[13]}}),{c(){j(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){$(e,n,o),t=!0},p(n,o){const i={};o[0]&1&&(i.obj=n[0]),o[0]&8192&&(i.interactionEnabled=n[13]),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function _n(r){let e,t,n,o=r[15]===K.VR_INPUT_TYPE_GRIPPABLE&&xn(r),i=r[15]===K.VR_INPUT_TYPE_HAND&&Cn(r);return{c(){o&&o.c(),e=Le(),i&&i.c(),t=je()},l(s){o&&o.l(s),e=be(s),i&&i.l(s),t=je()},m(s,a){o&&o.m(s,a),ce(s,e,a),i&&i.m(s,a),ce(s,t,a),n=!0},p(s,a){s[15]===K.VR_INPUT_TYPE_GRIPPABLE?o?(o.p(s,a),a[0]&32768&&F(o,1)):(o=xn(s),o.c(),F(o,1),o.m(e.parentNode,e)):o&&(ze(),z(o,1,1,()=>{o=null}),We()),s[15]===K.VR_INPUT_TYPE_HAND?i?(i.p(s,a),a[0]&32768&&F(i,1)):(i=Cn(s),i.c(),F(i,1),i.m(t.parentNode,t)):i&&(ze(),z(i,1,1,()=>{i=null}),We())},i(s){n||(F(o),F(i),n=!0)},o(s){z(o),z(i),n=!1},d(s){o&&o.d(s),s&&te(e),i&&i.d(s),s&&te(t)}}}function xn(r){let e,t;return e=new Nr({props:{sti:r[18],dispatch:r[17],obj:r[0],parent:r[16],interactionEnabled:r[13]}}),{c(){j(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){$(e,n,o),t=!0},p(n,o){const i={};o[0]&1&&(i.obj=n[0]),o[0]&8192&&(i.interactionEnabled=n[13]),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Cn(r){let e,t;return e=new qr({props:{sti:r[18],dispatch:r[17],obj:r[0],parent:r[16],interactionEnabled:r[13],pinchRemote:r[5],pinchTouch:r[6],pinchHybrid:r[7],xrHandTouch:r[8]}}),{c(){j(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){$(e,n,o),t=!0},p(n,o){const i={};o[0]&1&&(i.obj=n[0]),o[0]&8192&&(i.interactionEnabled=n[13]),o[0]&32&&(i.pinchRemote=n[5]),o[0]&64&&(i.pinchTouch=n[6]),o[0]&128&&(i.pinchHybrid=n[7]),o[0]&256&&(i.xrHandTouch=n[8]),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Zr(r){let e,t,n,o,i;const s=r[79].default,a=Rt(s,r,r[78],Tn);let u=r[3]&&wn(r),c=r[9][r[18]].renderer&&r[9][r[18]].renderer.xr.enabled===!1&&Pn(r),d=r[9][r[18]].renderer&&r[9][r[18]].renderer.xr.enabled===!0&&pn(r);return{c(){a&&a.c(),e=Le(),u&&u.c(),t=Le(),c&&c.c(),n=Le(),d&&d.c(),o=je()},l(g){a&&a.l(g),e=be(g),u&&u.l(g),t=be(g),c&&c.l(g),n=be(g),d&&d.l(g),o=je()},m(g,m){a&&a.m(g,m),ce(g,e,m),u&&u.m(g,m),ce(g,t,m),c&&c.m(g,m),ce(g,n,m),d&&d.m(g,m),ce(g,o,m),i=!0},p(g,m){a&&a.p&&(!i||m[0]&6|m[2]&65536)&&Lt(a,s,g,g[78],i?Tt(s,g[78],m,Kr):bt(g[78]),Tn),g[3]?u?(u.p(g,m),m[0]&8&&F(u,1)):(u=wn(g),u.c(),F(u,1),u.m(t.parentNode,t)):u&&(ze(),z(u,1,1,()=>{u=null}),We()),g[9][g[18]].renderer&&g[9][g[18]].renderer.xr.enabled===!1?c?(c.p(g,m),m[0]&512&&F(c,1)):(c=Pn(g),c.c(),F(c,1),c.m(n.parentNode,n)):c&&(ze(),z(c,1,1,()=>{c=null}),We()),g[9][g[18]].renderer&&g[9][g[18]].renderer.xr.enabled===!0?d?(d.p(g,m),m[0]&512&&F(d,1)):(d=pn(g),d.c(),F(d,1),d.m(o.parentNode,o)):d&&(ze(),z(d,1,1,()=>{d=null}),We())},i(g){i||(F(a,g),F(u),F(c),F(d),i=!0)},o(g){z(a,g),z(u),z(c),z(d),i=!1},d(g){a&&a.d(g),g&&te(e),u&&u.d(g),g&&te(t),c&&c.d(g),g&&te(n),d&&d.d(g),g&&te(o)}}}const Ne="color: red;font-weight:bold;",Jr="color: blue;font-weight:bold;",jr="color: green;font-weight:bold;";function Xr(r,e,t){let n;Ae(r,k,E=>t(9,n=E));let{$$slots:o={},$$scope:i}=e,{logInfo:s=!1}=e,{logRS:a=!1}=e,{logLC:u=!1}=e,c;const d=Sn(),g=An();let{scene:m}=e,{name:D=void 0}=e,{arReticle:h=!1}=e,{arReticleAuto:A=!1}=e,{parent:C=void 0}=e,{parentForSlot:v=void 0}=e,{parentForUs:T=void 0}=e,{animation:L=void 0}=e,{aniauto:M=void 0}=e,{interact:w=void 0}=e,{pinchRemote:O=void 0}=e,{pinchTouch:b=void 0}=e,{pinchHybrid:U=void 0}=e,{xrHandTouch:Q=void 0}=e;function G(){return O}function Z(){return b}function J(){return U}function y(){return Q}const P=lt.getSTIfromScene(m,"Points");let I,N=!1,{points:f=void 0}=e,{material:l=void 0}=e,{geometry:p=void 0}=e;f?(N=!1,H()):N=!0;function H(){f.type==="Points"&&(f.geometry&&t(20,p=f.geometry),f.material?t(19,l=f.material):console.warn("SVELTHREE > Points : Points provided, but has no material!",{points:f}),s&&console.info("SVELTHREE > Points : Saved geometry:",{geometry:p}),s&&console.info("SVELTHREE > Points : Saved material:",{material:l}),t(0,()=>f.userData.initScale=f.scale.x,f,0))}N||(C?C!==f&&(T=C,v=f):v=f);function W(){N&&(f&&!C?t(1,v=f):f?C&&C!==f&&(t(21,T=C),t(1,v=f)):console.error("SVELTHREE > Points : 'parent' check : no points provided yet!"))}function he(){s&&console.info("SVELTHREE > Points : Geometry provided!"),Nt()}let{userData:ue=void 0}=e;function de(){f&&t(0,()=>f.userData=Ze(Ze({},f.userData),ue),f,3)}let{mau:me=void 0}=e,{props:ge=void 0}=e,{pos:Re=void 0}=e,{rot:Ee=void 0}=e,{quat:ne=void 0}=e,{scale:le=void 0}=e,{lookAt:se=void 0}=e,{matrix:x=void 0}=e,{castShadow:xe=void 0}=e,{receiveShadow:Ce=void 0}=e,Se,{mat:we=void 0}=e,Pe=!1,ve;function Me(){a&&console.log("%c--------> Points > reactive statement! props",`${Ne}`,ge),ve.update(ge)}const _=S.getShortHandAttrWarnings("SVELTHREE > Points >"),pe=S.warn;function ft(){a&&console.log("%c--------> Points > reactive statement! pos",`${Ne}`,Re),S.setPositionFromValue(f,Re)}function ht(){a&&console.log("%c--------> Points > reactive statement! rot",`${Ne}`,Ee),S.setRotationFromValue(f,Ee)}function dt(){a&&console.log("%c--------> Points > reactive statement! quat",`${Ne}`,ne),S.setQuaternionFromValue(f,ne)}function mt(){a&&console.log("%c--------> Points > reactive statement! scale",`${Ne}`,le),S.setScaleFromValue(f,le)}function gt(){a&&console.log("%c--------> Points > reactive statement! lookAt",`${Ne}`,se),S.setLookAtFromValue(f,se)}function Et(){a&&console.log("%c--------> Points > reactive statement! matrix",`${Ne}`,x),S.setMatrixFromValue(f,x)}let V=!1,ae=!1,Oe,{fnOnMount:ot=void 0}=e;fe(ot?()=>ot(d):()=>(C?s&&console.info("SVELTHREE > onMount : Points, parent: ",C):s&&console.info("SVELTHREE > onMount : Points"),u&&St("----> Points > onMount",null),()=>{s&&console.info("SVELTHREE > onDestroy : Points"),Bt()}));let Ot,kt,Ut,st=!1;Ge(async()=>{st||(kt=performance.now(),st=!0),u&&St("%c------> Points > beforeUpdate",Jr),f.matrixWorldNeedsUpdate===!1&&t(0,()=>f.matrixAutoUpdate=me,f,4)}),qe(()=>{st&&(Ut=performance.now(),st=!1,Ot=Ut-kt),u&&St("%c------> Points > afterUpdate",jr,Ot)});function St(E,ke,fn){d?console.log(`${E}!`,`${ke}`,fn?"update time: "+fn:""," pos:",d.$capture_state().pos," rot:",d.$capture_state().rot," quat:",d.$capture_state().quat," scale:",d.$capture_state().scale," lookAt:",d.$capture_state().lookAt," matrix:",d.$capture_state().matrix," props:",d.$capture_state().props):console.log(`${E}! self not available!`)}function Dn(){T?f.parent!==T&&(T.add(f),s&&console.info("SVELTHREE > Points : "+p.type+" was added to parent!",{points:f,parent:T,scene:m,total:m.children.length}),(h||A)&&B(k,n[P].xr.reticle=f,n)):f.parent!==m&&(m.add(f),s&&console.info("SVELTHREE > Points : "+p.type+" was added to scene!",{points:f,scene:m,total:m.children.length}),(h||A)&&B(k,n[P].xr.reticle=f,n))}function Ft(){f&&(t(0,()=>f.material=l,f,7),s&&console.info("SVELTHREE > Points : Material updated!"),Mn())}function Mn(){Se&&we&&Se.update(we)}function Nt(){t(0,()=>f.geometry=p,f,8),s&&console.info("SVELTHREE > Points : Geometry updated!")}function On(){if(n[P].xr.hitTestResults.length>0){let E=n[P].xr.hitTestResults[0],ke=n[P].renderer.xr.getReferenceSpace();n[P].xr.reticle&&(A&&(kn(),Fn(E,ke)),g("hit",{reticle:f,hitPose:E.getPose(ke).transform.matrix}))}else n[P].xr.reticle&&(A&&n[P].xr.reticle.visible&&Un(),g("nohit",{reticle:f}))}function kn(){t(0,()=>f.visible=!0,f,9)}function Un(){t(0,()=>f.visible=!1,f,9)}function Fn(E=void 0,ke=void 0){s&&console.info("poseReticle!",n[P].xr.reticle),f.matrix.fromArray(E.getPose(ke).transform.matrix)}function Bt(){f.parent.remove(f)}function Nn(){return f}function Bn(){return D}function qn(){return m}function Gn(){return c.getAnimation()}function zn(){c.startAni()}let{onClick:qt=void 0}=e,{onPointerUp:Gt=void 0}=e,{onPointerDown:zt=void 0}=e,{onPointerOver:Wt=void 0}=e,{onPointerOut:Yt=void 0}=e,{onPointerEnter:Qt=void 0}=e,{onPointerLeave:Kt=void 0}=e,{onPointerMove:Zt=void 0}=e,Jt,jt,{onSelect:Xt=void 0}=e,{onSelectStart:$t=void 0}=e,{onSelectEnd:en=void 0}=e,{onSqueeze:tn=void 0}=e,{onSqueezeStart:nn=void 0}=e,{onSqueezeEnd:rn=void 0}=e,{onPinchStart:on=void 0}=e,{onPinchEnd:sn=void 0}=e,{onPinchRemoteStart:an=void 0}=e,{onPinchRemoteEnd:cn=void 0}=e,{onPinchTouchStart:un=void 0}=e,{onPinchTouchEnd:ln=void 0}=e;function Wn(E){He[E?"unshift":"push"](()=>{c=E,t(10,c)})}function Yn(E){V=E,t(11,V),t(9,n),t(2,m)}return r.$$set=E=>{"logInfo"in E&&t(22,s=E.logInfo),"logRS"in E&&t(23,a=E.logRS),"logLC"in E&&t(24,u=E.logLC),"scene"in E&&t(2,m=E.scene),"name"in E&&t(25,D=E.name),"arReticle"in E&&t(26,h=E.arReticle),"arReticleAuto"in E&&t(27,A=E.arReticleAuto),"parent"in E&&t(28,C=E.parent),"parentForSlot"in E&&t(1,v=E.parentForSlot),"parentForUs"in E&&t(21,T=E.parentForUs),"animation"in E&&t(3,L=E.animation),"aniauto"in E&&t(4,M=E.aniauto),"interact"in E&&t(29,w=E.interact),"pinchRemote"in E&&t(5,O=E.pinchRemote),"pinchTouch"in E&&t(6,b=E.pinchTouch),"pinchHybrid"in E&&t(7,U=E.pinchHybrid),"xrHandTouch"in E&&t(8,Q=E.xrHandTouch),"points"in E&&t(0,f=E.points),"material"in E&&t(19,l=E.material),"geometry"in E&&t(20,p=E.geometry),"userData"in E&&t(34,ue=E.userData),"mau"in E&&t(35,me=E.mau),"props"in E&&t(36,ge=E.props),"pos"in E&&t(37,Re=E.pos),"rot"in E&&t(38,Ee=E.rot),"quat"in E&&t(39,ne=E.quat),"scale"in E&&t(40,le=E.scale),"lookAt"in E&&t(41,se=E.lookAt),"matrix"in E&&t(42,x=E.matrix),"castShadow"in E&&t(43,xe=E.castShadow),"receiveShadow"in E&&t(44,Ce=E.receiveShadow),"mat"in E&&t(45,we=E.mat),"fnOnMount"in E&&t(46,ot=E.fnOnMount),"onClick"in E&&t(53,qt=E.onClick),"onPointerUp"in E&&t(54,Gt=E.onPointerUp),"onPointerDown"in E&&t(55,zt=E.onPointerDown),"onPointerOver"in E&&t(56,Wt=E.onPointerOver),"onPointerOut"in E&&t(57,Yt=E.onPointerOut),"onPointerEnter"in E&&t(58,Qt=E.onPointerEnter),"onPointerLeave"in E&&t(59,Kt=E.onPointerLeave),"onPointerMove"in E&&t(60,Zt=E.onPointerMove),"onSelect"in E&&t(61,Xt=E.onSelect),"onSelectStart"in E&&t(62,$t=E.onSelectStart),"onSelectEnd"in E&&t(63,en=E.onSelectEnd),"onSqueeze"in E&&t(64,tn=E.onSqueeze),"onSqueezeStart"in E&&t(65,nn=E.onSqueezeStart),"onSqueezeEnd"in E&&t(66,rn=E.onSqueezeEnd),"onPinchStart"in E&&t(67,on=E.onPinchStart),"onPinchEnd"in E&&t(68,sn=E.onPinchEnd),"onPinchRemoteStart"in E&&t(69,an=E.onPinchRemoteStart),"onPinchRemoteEnd"in E&&t(70,cn=E.onPinchRemoteEnd),"onPinchTouchStart"in E&&t(71,un=E.onPinchTouchStart),"onPinchTouchEnd"in E&&t(72,ln=E.onPinchTouchEnd),"$$scope"in E&&t(78,i=E.$$scope)},r.$$.update=()=>{var E;r.$$.dirty[0]&512&&t(73,I=n[P].canvas.interactive),r.$$.dirty[0]&39321601|r.$$.dirty[2]&4096&&p&&l&&!f&&N&&(t(0,f=new Xn(p,l)),t(0,()=>f.name=D,f,1),t(0,()=>f.userData.initScale=f.scale.x,f,0),t(0,()=>f.userData.svelthreeComponent=d,f,2),s&&console.info("SVELTHREE > Points : "+p.type+" created!",{points:f}),s&&console.info("SVELTHREE > Points : saved 'geometry' (generated):",p),s&&console.info("SVELTHREE > Points : saved 'material' (generated):",l)),r.$$.dirty[0]&1|r.$$.dirty[1]&16&&f&&t(0,()=>f.matrixAutoUpdate=!!me,f,4),r.$$.dirty[1]&4096&&t(0,()=>f.castShadow=!!xe,f,5),r.$$.dirty[1]&8192&&t(0,()=>f.receiveShadow=!!Ce,f,6),r.$$.dirty[0]&1&&f&&W(),r.$$.dirty[0]&1048576|r.$$.dirty[2]&4096&&p&&N&&he(),r.$$.dirty[0]&4718592|r.$$.dirty[2]&4096&&l&&N&&(s&&console.info("SVELTHREE > Points : Material provided!"),Ft()),r.$$.dirty[0]&1048577|r.$$.dirty[2]&4096&&p&&!N&&p!==f.geometry&&Nt(),r.$$.dirty[0]&524289|r.$$.dirty[2]&4096&&l&&!N&&l!==f.material&&Ft(),r.$$.dirty[0]&1&&(f?Dn():console.error("SVELTHREE > Points : points was not created!")),r.$$.dirty[1]&8&&ue&&de(),r.$$.dirty[0]&524288|r.$$.dirty[2]&8192&&!Se&&l&&t(75,Se=new Qe(l)),r.$$.dirty[1]&16384|r.$$.dirty[2]&8192&&we&&Se&&Se.update(we),r.$$.dirty[0]&512&&t(76,Pe=n[P].useBVH),r.$$.dirty[0]&5242881|r.$$.dirty[2]&16384&&(Pe&&p?(console.log("%c--------> Points > reactive statement! useBVH && geometry",`${Ne}`,Pe,p),console.warn("SVELTHREE > Points : (BVH) Using BVH!"),Object.keys(ye.prototype).indexOf("computeBoundsTree")>-1?(s&&console.info("SVELTHREE > Points : Using BVH, points.matrixWorld: ",f.matrixWorld),f.geometry.computeBoundsTree(),s&&console.info("SVELTHREE > Points : (BVH) computeBoundsTree finished, points: ",f)):console.error("SVELTHREE > Points : (BVH) points.geometry.computeBoundsTree not available!")):f.geometry.hasOwnProperty("boundsTree")&&(s&&console.info("SVELTHREE > Points : (BVH) try disposing boundsTree!",f),f.geometry.hasOwnProperty("disposeBoundsTree")?(f.geometry.disposeBoundsTree(),s&&console.info("SVELTHREE > Points : (BVH) boundsTree disposed!",f)):console.error("SVELTHREE > Points : (BVH) points.geometry.disposeBoundsTree not available!"))),r.$$.dirty[0]&1|r.$$.dirty[1]&32|r.$$.dirty[2]&32768&&!ve&&f&&ge&&t(77,ve=new Qe(f)),r.$$.dirty[1]&32|r.$$.dirty[2]&32768&&ge&&ve&&Me(),r.$$.dirty[0]&1|r.$$.dirty[1]&2112&&(!x&&f&&Re?ft():Re&&f&&pe(_.pos)),r.$$.dirty[0]&1|r.$$.dirty[1]&2432&&(!x&&!ne&&f&&Ee?ht():Ee&&f&&pe(_.rot)),r.$$.dirty[0]&1|r.$$.dirty[1]&2304&&(!x&&f&&ne?dt():ne&&f&&pe(_.quat)),r.$$.dirty[0]&1|r.$$.dirty[1]&2560&&(!x&&f&&le?mt():le&&f&&pe(_.scale)),r.$$.dirty[0]&1|r.$$.dirty[1]&3072&&(!x&&f&&se?gt():se&&f&&pe(_.lookAt)),r.$$.dirty[0]&1|r.$$.dirty[1]&2048&&x&&f&&Et(),r.$$.dirty[0]&516&&t(11,V=(E=n[P].scenes[m.userData.indexInScenes])==null?void 0:E.isActive),r.$$.dirty[0]&8&&L&&t(12,ae=!0),r.$$.dirty[0]&536870912|r.$$.dirty[2]&2048&&(I&&w?t(13,Oe=!0):t(13,Oe=!1)),r.$$.dirty[0]&201327104&&(h||A)&&n[P].xr.hitTestResults&&On(),r.$$.dirty[0]&512&&t(14,Jt=n[P].xr.sessionMode),r.$$.dirty[0]&512&&t(15,jt=n[P].xr.currentVRInputType)},[f,v,m,L,M,O,b,U,Q,n,c,V,ae,Oe,Jt,jt,d,g,P,l,p,T,s,a,u,D,h,A,C,w,G,Z,J,y,ue,me,ge,Re,Ee,ne,le,se,x,xe,Ce,we,ot,Bt,Nn,Bn,qn,Gn,zn,qt,Gt,zt,Wt,Yt,Qt,Kt,Zt,Xt,$t,en,tn,nn,rn,on,sn,an,cn,un,ln,I,N,Se,Pe,ve,i,o,Wn,Yn]}class $r extends re{constructor(e){super();ie(this,e,Xr,Zr,oe,{logInfo:22,logRS:23,logLC:24,scene:2,name:25,arReticle:26,arReticleAuto:27,parent:28,parentForSlot:1,parentForUs:21,animation:3,aniauto:4,interact:29,pinchRemote:5,pinchTouch:6,pinchHybrid:7,xrHandTouch:8,pinchRemoteEnabled:30,pinchTouchEnabled:31,pinchHybridEnabled:32,xrHandTouchEnabled:33,points:0,material:19,geometry:20,userData:34,mau:35,props:36,pos:37,rot:38,quat:39,scale:40,lookAt:41,matrix:42,castShadow:43,receiveShadow:44,mat:45,fnOnMount:46,removePointsFromParent:47,getPoints:48,getName:49,getScene:50,getAnimation:51,startAni:52,onClick:53,onPointerUp:54,onPointerDown:55,onPointerOver:56,onPointerOut:57,onPointerEnter:58,onPointerLeave:59,onPointerMove:60,onSelect:61,onSelectStart:62,onSelectEnd:63,onSqueeze:64,onSqueezeStart:65,onSqueezeEnd:66,onPinchStart:67,onPinchEnd:68,onPinchRemoteStart:69,onPinchRemoteEnd:70,onPinchTouchStart:71,onPinchTouchEnd:72},null,[-1,-1,-1,-1])}get logInfo(){return this.$$.ctx[22]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[23]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[24]}set logLC(e){this.$set({logLC:e})}get scene(){return this.$$.ctx[2]}set scene(e){this.$set({scene:e})}get name(){return this.$$.ctx[25]}set name(e){this.$set({name:e})}get arReticle(){return this.$$.ctx[26]}set arReticle(e){this.$set({arReticle:e})}get arReticleAuto(){return this.$$.ctx[27]}set arReticleAuto(e){this.$set({arReticleAuto:e})}get parent(){return this.$$.ctx[28]}set parent(e){this.$set({parent:e})}get parentForSlot(){return this.$$.ctx[1]}set parentForSlot(e){this.$set({parentForSlot:e})}get parentForUs(){return this.$$.ctx[21]}set parentForUs(e){this.$set({parentForUs:e})}get animation(){return this.$$.ctx[3]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[4]}set aniauto(e){this.$set({aniauto:e})}get interact(){return this.$$.ctx[29]}set interact(e){this.$set({interact:e})}get pinchRemote(){return this.$$.ctx[5]}set pinchRemote(e){this.$set({pinchRemote:e})}get pinchTouch(){return this.$$.ctx[6]}set pinchTouch(e){this.$set({pinchTouch:e})}get pinchHybrid(){return this.$$.ctx[7]}set pinchHybrid(e){this.$set({pinchHybrid:e})}get xrHandTouch(){return this.$$.ctx[8]}set xrHandTouch(e){this.$set({xrHandTouch:e})}get pinchRemoteEnabled(){return this.$$.ctx[30]}get pinchTouchEnabled(){return this.$$.ctx[31]}get pinchHybridEnabled(){return this.$$.ctx[32]}get xrHandTouchEnabled(){return this.$$.ctx[33]}get points(){return this.$$.ctx[0]}set points(e){this.$set({points:e})}get material(){return this.$$.ctx[19]}set material(e){this.$set({material:e})}get geometry(){return this.$$.ctx[20]}set geometry(e){this.$set({geometry:e})}get userData(){return this.$$.ctx[34]}set userData(e){this.$set({userData:e})}get mau(){return this.$$.ctx[35]}set mau(e){this.$set({mau:e})}get props(){return this.$$.ctx[36]}set props(e){this.$set({props:e})}get pos(){return this.$$.ctx[37]}set pos(e){this.$set({pos:e})}get rot(){return this.$$.ctx[38]}set rot(e){this.$set({rot:e})}get quat(){return this.$$.ctx[39]}set quat(e){this.$set({quat:e})}get scale(){return this.$$.ctx[40]}set scale(e){this.$set({scale:e})}get lookAt(){return this.$$.ctx[41]}set lookAt(e){this.$set({lookAt:e})}get matrix(){return this.$$.ctx[42]}set matrix(e){this.$set({matrix:e})}get castShadow(){return this.$$.ctx[43]}set castShadow(e){this.$set({castShadow:e})}get receiveShadow(){return this.$$.ctx[44]}set receiveShadow(e){this.$set({receiveShadow:e})}get mat(){return this.$$.ctx[45]}set mat(e){this.$set({mat:e})}get fnOnMount(){return this.$$.ctx[46]}set fnOnMount(e){this.$set({fnOnMount:e})}get removePointsFromParent(){return this.$$.ctx[47]}get getPoints(){return this.$$.ctx[48]}get getName(){return this.$$.ctx[49]}get getScene(){return this.$$.ctx[50]}get getAnimation(){return this.$$.ctx[51]}get startAni(){return this.$$.ctx[52]}get onClick(){return this.$$.ctx[53]}set onClick(e){this.$set({onClick:e})}get onPointerUp(){return this.$$.ctx[54]}set onPointerUp(e){this.$set({onPointerUp:e})}get onPointerDown(){return this.$$.ctx[55]}set onPointerDown(e){this.$set({onPointerDown:e})}get onPointerOver(){return this.$$.ctx[56]}set onPointerOver(e){this.$set({onPointerOver:e})}get onPointerOut(){return this.$$.ctx[57]}set onPointerOut(e){this.$set({onPointerOut:e})}get onPointerEnter(){return this.$$.ctx[58]}set onPointerEnter(e){this.$set({onPointerEnter:e})}get onPointerLeave(){return this.$$.ctx[59]}set onPointerLeave(e){this.$set({onPointerLeave:e})}get onPointerMove(){return this.$$.ctx[60]}set onPointerMove(e){this.$set({onPointerMove:e})}get onSelect(){return this.$$.ctx[61]}set onSelect(e){this.$set({onSelect:e})}get onSelectStart(){return this.$$.ctx[62]}set onSelectStart(e){this.$set({onSelectStart:e})}get onSelectEnd(){return this.$$.ctx[63]}set onSelectEnd(e){this.$set({onSelectEnd:e})}get onSqueeze(){return this.$$.ctx[64]}set onSqueeze(e){this.$set({onSqueeze:e})}get onSqueezeStart(){return this.$$.ctx[65]}set onSqueezeStart(e){this.$set({onSqueezeStart:e})}get onSqueezeEnd(){return this.$$.ctx[66]}set onSqueezeEnd(e){this.$set({onSqueezeEnd:e})}get onPinchStart(){return this.$$.ctx[67]}set onPinchStart(e){this.$set({onPinchStart:e})}get onPinchEnd(){return this.$$.ctx[68]}set onPinchEnd(e){this.$set({onPinchEnd:e})}get onPinchRemoteStart(){return this.$$.ctx[69]}set onPinchRemoteStart(e){this.$set({onPinchRemoteStart:e})}get onPinchRemoteEnd(){return this.$$.ctx[70]}set onPinchRemoteEnd(e){this.$set({onPinchRemoteEnd:e})}get onPinchTouchStart(){return this.$$.ctx[71]}set onPinchTouchStart(e){this.$set({onPinchTouchStart:e})}get onPinchTouchEnd(){return this.$$.ctx[72]}set onPinchTouchEnd(e){this.$set({onPinchTouchEnd:e})}get $cty_config(){return{0:{head_ctx_i:0,members:["userData","initScale"]},1:{head_ctx_i:0,members:["name"]},2:{head_ctx_i:0,members:["userData","svelthreeComponent"]},3:{head_ctx_i:0,members:["userData"]},4:{head_ctx_i:0,members:["matrixAutoUpdate"]},5:{head_ctx_i:0,members:["castShadow"]},6:{head_ctx_i:0,members:["receiveShadow"]},7:{head_ctx_i:0,members:["material"]},8:{head_ctx_i:0,members:["geometry"]},9:{head_ctx_i:0,members:["visible"]}}}}const ei=r=>({sti:r[0]&16}),Hn=r=>({sti:r[4]});function ti(r){let e,t;const n=r[22].default,o=Rt(n,r,r[21],Hn);return{c(){e=wt("canvas"),o&&o.c(),this.h()},l(i){e=Pt(i,"CANVAS",{width:!0,height:!0,style:!0,class:!0});var s=pt(e);o&&o.l(s),s.forEach(te),this.h()},h(){Ie(e,"width",r[0]),Ie(e,"height",r[1]),Ie(e,"style",r[2]),Ie(e,"class",r[3])},m(i,s){ce(i,e,s),o&&o.m(e,null),r[23](e),t=!0},p(i,s){o&&o.p&&(!t||s[0]&2097168)&&Lt(o,n,i,i[21],t?Tt(n,i[21],s,ei):bt(i[21]),Hn),(!t||s[0]&1)&&Ie(e,"width",i[0]),(!t||s[0]&2)&&Ie(e,"height",i[1]),(!t||s[0]&4)&&Ie(e,"style",i[2]),(!t||s[0]&8)&&Ie(e,"class",i[3])},i(i){t||(F(o,i),t=!0)},o(i){z(o,i),t=!1},d(i){i&&te(e),o&&o.d(i),r[23](null)}}}const tt="color: red;font-weight:bold;",ni="color: blue;font-weight:bold;",ri="color: green;font-weight:bold;";function Dt(r,e,t){console.log(`${r}!`,`${e}`,t?"update time: "+t:"")}function ii(r,e,t){let n;Ae(r,k,H=>t(20,n=H));let{$$slots:o={},$$scope:i}=e,{logInfo:s=!1}=e,{logRS:a=!1}=e,{logLC:u=!1}=e,{w:c}=e,{h:d}=e,{style:g=void 0}=e,{class:m=void 0}=e,{interactive:D=void 0}=e;const h={id:void 0,canvas:{dom:void 0,dim:{w:void 0,h:void 0},interactive:!1},scenes:[],currentSceneIndex:void 0,cameras:[],cubeCameras:[],activeCamera:void 0,renderer:void 0,rendererComponent:void 0,raycaster:void 0,allIntersections:void 0,pointer:{pos:new $n(-1,-1),event:void 0,isOverCanvas:!1,unprojected:new Ve},orbitcontrols:void 0,xr:{sessionMode:void 0,inputConfig:void 0,controller:void 0,controllerConfig:void 0,controllers:[],enablePinch:void 0,enableTouch:void 0,touchEvents:void 0,enableTouchX:void 0,leftHandTouchEnabled:void 0,leftHandTouchEnabledJoints:void 0,rightHandTouchEnabled:void 0,rightHandTouchEnabledJoints:void 0,leftHandPinchEnabled:!1,leftHandPinchConfig:void 0,rightHandPinchEnabled:!1,rightHandPinchConfig:void 0,requiredFeatures:[],optionalFeatures:[],domOverlay:void 0,hitTestModeInitial:void 0,hitTestMode:void 0,hitTestSource:null,hitTestSourceRequested:!1,hitTestResults:void 0,reticle:void 0,currentFrame:{timestamp:0,delta:0,frame:void 0}},useBVH:!1};h.canvas.dim.w=c,h.canvas.dim.h=d,B(k,n=[...n,h],n);let A;A=n.length-1;let C;function v(){n[A].canvas.dom===void 0&&B(k,n[A].canvas.dom=C,n)}let T,{useBVH:L=void 0}=e,M,w=!1,O;function b(){a&&console.log("%c---> Canvas > reactive statement! createRaycaster!",`${tt}`,{isInteractive:w}),t(19,O=new rr),B(k,n[A].raycaster=O,n),B(k,n[A].canvas.interactive=!0,n),n[A].renderer.xr.enabled===!1&&Q(),s&&console.info("SVELTHREE > Canvas : after Raycaster creation, $svelthreeStores[sti]: ",n[A])}function U(){a&&console.log("%c---> Canvas > reactive statement! removeRaycaster!",`${tt}`,{isInteractive:w}),B(k,n[A].canvas.interactive=!1,n),B(k,n[A].raycaster=void 0,n),t(19,O=null),n[A].renderer.xr.enabled===!1&&G(),s&&console.info("SVELTHREE > Canvas : after Raycaster remove, $svelthreeStores[sti]: ",n[A])}function Q(){a&&console.log("%c---> Canvas > reactive statement! createRaycaster > startUpdatingPointer!",`${tt}`),window.addEventListener("pointermove",Z,!1)}function G(){a&&console.log("%c---> Canvas > reactive statement! removeRaycaster > stopUpdatingPointer!",`${tt}`),window.removeEventListener("pointermove",Z)}function Z(H){let W=C.getBoundingClientRect();B(k,n[A].pointer.pos.x=(H.clientX-W.left)/(W.right-W.left)*2-1,n),B(k,n[A].pointer.pos.y=-((H.clientY-W.top)/(W.bottom-W.top))*2+1,n),H.clientX>W.left&&H.clientX<W.right&&H.clientY>W.top&&H.clientY<W.bottom?B(k,n[A].pointer.isOverCanvas=!0,n):B(k,n[A].pointer.isOverCanvas=!1,n);let he=new Ve(n[A].pointer.pos.x,n[A].pointer.pos.y,.5),ue=new Ve;he.unproject(n[A].activeCamera),he.sub(n[A].activeCamera.position).normalize();let de=-n[A].activeCamera.position.z/he.z;ue.copy(n[A].activeCamera.position).add(he.multiplyScalar(de)),n[A].pointer.unprojected.copy(ue),B(k,n[A].pointer.event=H,n)}fe(()=>(t(17,M=!0),u&&Dt("--> Canvas > onMount",null),s&&console.info("SVELTHREE > onMount : Canvas, $svelthreeStores[sti]: ",n[A]),()=>{s&&console.info("SVELTHREE > onDestroy : Canvas"),G(),B(k,n[A]=null,n)}));function J(){return n[A].canvas.dom}function y(){return{w:n[A].canvas.dom.width,h:n[A].canvas.dom.height}}function P(H,W){B(k,n[A].canvas.dim={w:H,h:W},n)}let I,N,f,l=!1;Ge(()=>{l||(N=performance.now(),l=!0),u&&Dt("%c--> Canvas > beforeUpdate",ni)}),qe(()=>{l&&(f=performance.now(),l=!1,I=f-N),u&&Dt("%c--> Canvas > afterUpdate",ri,I)});function p(H){He[H?"unshift":"push"](()=>{C=H,t(5,C)})}return r.$$set=H=>{"logInfo"in H&&t(6,s=H.logInfo),"logRS"in H&&t(7,a=H.logRS),"logLC"in H&&t(8,u=H.logLC),"w"in H&&t(0,c=H.w),"h"in H&&t(1,d=H.h),"style"in H&&t(2,g=H.style),"class"in H&&t(3,m=H.class),"interactive"in H&&t(9,D=H.interactive),"useBVH"in H&&t(10,L=H.useBVH),"$$scope"in H&&t(21,i=H.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&32&&C&&v(),r.$$.dirty[0]&1&&c&&(h.canvas.dim.w=c),r.$$.dirty[0]&2&&d&&(h.canvas.dim.h=d),r.$$.dirty[0]&115856&&(L?(a&&console.log("%c---> Canvas > reactive statement! useBVH",`${tt}`,L),B(k,n[A].useBVH=L,n),Object.keys(ye.prototype).indexOf("computeBoundsTree")<0&&(t(16,T=Xe.prototype.raycast),t(14,()=>ye.prototype.computeBoundsTree=er,ye,0),t(14,()=>ye.prototype.disposeBoundsTree=tr,ye,1),t(15,()=>Xe.prototype.raycast=nr,Xe,2))):(a&&console.log("%c---> Canvas > reactive statement! useBVH",`${tt}`,L),B(k,n[A].useBVH=L,n),ye.prototype.hasOwnProperty("computeBoundsTree")&&(t(14,()=>ye.prototype.computeBoundsTree=void 0,ye,0),t(14,()=>ye.prototype.disposeBoundsTree=void 0,ye,1),t(15,()=>Xe.prototype.raycast=T,Xe,2)))),r.$$.dirty[0]&131584&&M&&t(18,w=D),r.$$.dirty[0]&1835056&&w&&!O&&C&&n[A].renderer&&b(),r.$$.dirty[0]&1835024&&!w&&O&&n[A].renderer&&U()},[c,d,g,m,A,C,s,a,u,D,L,J,y,P,ye,Xe,T,M,w,O,n,i,o,p]}class oi extends re{constructor(e){super();ie(this,e,ii,ti,oe,{logInfo:6,logRS:7,logLC:8,w:0,h:1,style:2,class:3,interactive:9,useBVH:10,getDomElement:11,getDomElementDimensions:12,resize:13},null,[-1,-1])}get logInfo(){return this.$$.ctx[6]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[7]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[8]}set logLC(e){this.$set({logLC:e})}get w(){return this.$$.ctx[0]}set w(e){this.$set({w:e})}get h(){return this.$$.ctx[1]}set h(e){this.$set({h:e})}get style(){return this.$$.ctx[2]}set style(e){this.$set({style:e})}get class(){return this.$$.ctx[3]}set class(e){this.$set({class:e})}get interactive(){return this.$$.ctx[9]}set interactive(e){this.$set({interactive:e})}get useBVH(){return this.$$.ctx[10]}set useBVH(e){this.$set({useBVH:e})}get getDomElement(){return this.$$.ctx[11]}get getDomElementDimensions(){return this.$$.ctx[12]}get resize(){return this.$$.ctx[13]}get $cty_config(){return{0:{head_ctx_i:14,members:["prototype","computeBoundsTree"]},1:{head_ctx_i:14,members:["prototype","disposeBoundsTree"]},2:{head_ctx_i:15,members:["prototype","raycast"]}}}}function si(r){let e,t,n,o;return e=new zr({props:{light:r[21],shadowMapSize:r[14],shadowBias:r[15],castShadow:r[16],shadowCameraProps:r[18],shadowProps:r[17]}}),n=new bn({props:{scene:r[4],parent:r[5],light:r[21],mau:r[6],helper:r[0],props:r[7],pos:r[8],lookAt:r[9],target:r[10],matrix:r[11],color:r[12],intensity:r[13],animation:r[19],aniauto:r[20],logInfo:r[1],logRS:r[2],logLC:r[3]}}),{c(){j(e.$$.fragment),t=Le(),j(n.$$.fragment)},l(i){X(e.$$.fragment,i),t=be(i),X(n.$$.fragment,i)},m(i,s){$(e,i,s),ce(i,t,s),$(n,i,s),o=!0},p(i,[s]){const a={};s&2097152&&(a.light=i[21]),s&16384&&(a.shadowMapSize=i[14]),s&32768&&(a.shadowBias=i[15]),s&65536&&(a.castShadow=i[16]),s&262144&&(a.shadowCameraProps=i[18]),s&131072&&(a.shadowProps=i[17]),e.$set(a);const u={};s&16&&(u.scene=i[4]),s&32&&(u.parent=i[5]),s&2097152&&(u.light=i[21]),s&64&&(u.mau=i[6]),s&1&&(u.helper=i[0]),s&128&&(u.props=i[7]),s&256&&(u.pos=i[8]),s&512&&(u.lookAt=i[9]),s&1024&&(u.target=i[10]),s&2048&&(u.matrix=i[11]),s&4096&&(u.color=i[12]),s&8192&&(u.intensity=i[13]),s&524288&&(u.animation=i[19]),s&1048576&&(u.aniauto=i[20]),s&2&&(u.logInfo=i[1]),s&4&&(u.logRS=i[2]),s&8&&(u.logLC=i[3]),n.$set(u)},i(i){o||(F(e.$$.fragment,i),F(n.$$.fragment,i),o=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),o=!1},d(i){ee(e,i),i&&te(t),ee(n,i)}}}const ai="color: red;font-weight:bold;",ci="color: blue;font-weight:bold;",ui="color: green;font-weight:bold;";function li(r,e,t){let{logInfo:n=!1}=e,{logRS:o=!1}=e,{logLC:i=!1}=e,{scene:s}=e,a;a=new ir;let{parent:u=void 0}=e,{parentForUs:c=void 0}=e,{name:d=void 0}=e,{mau:g=void 0}=e,{props:m=void 0}=e,{pos:D=void 0}=e,{lookAt:h=void 0}=e,{target:A=void 0}=e,{matrix:C=void 0}=e,{color:v=void 0}=e,{intensity:T=void 0}=e,{shadowMapSize:L=void 0}=e,{shadowBias:M=void 0}=e,{castShadow:w=void 0}=e,{shadowProps:O=void 0}=e,{shadowCameraProps:b=void 0}=e,{helper:U=void 0}=e;function Q(){o&&console.log("%c--------> DirectionalLight > reactive statement! props",`${ai}`,m),$e.addHelper(a,s,new or(a))}function G(){$e.removeHelper(a,s)}let{animation:Z=void 0}=e,{aniauto:J=void 0}=e;function y(){return a}function P(){return a.userData.helper}function I(l){t(0,U=l)}function N(){return U}fe(()=>(i&&f("----> DirectionalLight > onMount",null),n&&console.info(`SVELTHREE > onMount : ${a.type}`),()=>{n&&console.info(`SVELTHREE > onDestroy : ${a.type}`),$e.removeHelper(a,s)})),Ge(()=>{i&&f("%c------> DirectionalLight > beforeUpdate",ci)}),qe(()=>{i&&f("%c------> DirectionalLight > afterUpdate",ui),a.matrixWorldNeedsUpdate===!1&&t(21,()=>a.matrixAutoUpdate=g,a,0)});function f(l,p){n&&console.log(`${l}!`,`${p}`)}return r.$$set=l=>{"logInfo"in l&&t(1,n=l.logInfo),"logRS"in l&&t(2,o=l.logRS),"logLC"in l&&t(3,i=l.logLC),"scene"in l&&t(4,s=l.scene),"parent"in l&&t(5,u=l.parent),"parentForUs"in l&&t(22,c=l.parentForUs),"name"in l&&t(23,d=l.name),"mau"in l&&t(6,g=l.mau),"props"in l&&t(7,m=l.props),"pos"in l&&t(8,D=l.pos),"lookAt"in l&&t(9,h=l.lookAt),"target"in l&&t(10,A=l.target),"matrix"in l&&t(11,C=l.matrix),"color"in l&&t(12,v=l.color),"intensity"in l&&t(13,T=l.intensity),"shadowMapSize"in l&&t(14,L=l.shadowMapSize),"shadowBias"in l&&t(15,M=l.shadowBias),"castShadow"in l&&t(16,w=l.castShadow),"shadowProps"in l&&t(17,O=l.shadowProps),"shadowCameraProps"in l&&t(18,b=l.shadowCameraProps),"helper"in l&&t(0,U=l.helper),"animation"in l&&t(19,Z=l.animation),"aniauto"in l&&t(20,J=l.aniauto)},r.$$.update=()=>{r.$$.dirty&2097153&&a&&!a.userData.helper&&U&&Q(),r.$$.dirty&2097153&&a&&a.userData.helper&&!U&&G()},[U,n,o,i,s,u,g,m,D,h,A,C,v,T,L,M,w,O,b,Z,J,a,c,d,y,P,I,N]}class fi extends re{constructor(e){super();ie(this,e,li,si,oe,{logInfo:1,logRS:2,logLC:3,scene:4,parent:5,parentForUs:22,name:23,mau:6,props:7,pos:8,lookAt:9,target:10,matrix:11,color:12,intensity:13,shadowMapSize:14,shadowBias:15,castShadow:16,shadowProps:17,shadowCameraProps:18,helper:0,animation:19,aniauto:20,getLight:24,getHelper:25,setHelperAttr:26,getHelperAttr:27})}get logInfo(){return this.$$.ctx[1]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[2]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[3]}set logLC(e){this.$set({logLC:e})}get scene(){return this.$$.ctx[4]}set scene(e){this.$set({scene:e})}get parent(){return this.$$.ctx[5]}set parent(e){this.$set({parent:e})}get parentForUs(){return this.$$.ctx[22]}set parentForUs(e){this.$set({parentForUs:e})}get name(){return this.$$.ctx[23]}set name(e){this.$set({name:e})}get mau(){return this.$$.ctx[6]}set mau(e){this.$set({mau:e})}get props(){return this.$$.ctx[7]}set props(e){this.$set({props:e})}get pos(){return this.$$.ctx[8]}set pos(e){this.$set({pos:e})}get lookAt(){return this.$$.ctx[9]}set lookAt(e){this.$set({lookAt:e})}get target(){return this.$$.ctx[10]}set target(e){this.$set({target:e})}get matrix(){return this.$$.ctx[11]}set matrix(e){this.$set({matrix:e})}get color(){return this.$$.ctx[12]}set color(e){this.$set({color:e})}get intensity(){return this.$$.ctx[13]}set intensity(e){this.$set({intensity:e})}get shadowMapSize(){return this.$$.ctx[14]}set shadowMapSize(e){this.$set({shadowMapSize:e})}get shadowBias(){return this.$$.ctx[15]}set shadowBias(e){this.$set({shadowBias:e})}get castShadow(){return this.$$.ctx[16]}set castShadow(e){this.$set({castShadow:e})}get shadowProps(){return this.$$.ctx[17]}set shadowProps(e){this.$set({shadowProps:e})}get shadowCameraProps(){return this.$$.ctx[18]}set shadowCameraProps(e){this.$set({shadowCameraProps:e})}get helper(){return this.$$.ctx[0]}set helper(e){this.$set({helper:e})}get animation(){return this.$$.ctx[19]}set animation(e){this.$set({animation:e})}get aniauto(){return this.$$.ctx[20]}set aniauto(e){this.$set({aniauto:e})}get getLight(){return this.$$.ctx[24]}get getHelper(){return this.$$.ctx[25]}get setHelperAttr(){return this.$$.ctx[26]}get getHelperAttr(){return this.$$.ctx[27]}get $cty_config(){return{0:{head_ctx_i:21,members:["matrixAutoUpdate"]}}}}function hi(r){let e,t;return e=new bn({props:{scene:r[0],light:r[4],props:r[1],color:r[2],intensity:r[3]}}),{c(){j(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){$(e,n,o),t=!0},p(n,[o]){const i={};o&1&&(i.scene=n[0]),o&2&&(i.props=n[1]),o&4&&(i.color=n[2]),o&8&&(i.intensity=n[3]),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function di(r,e,t){let{scene:n}=e,{params:o=void 0}=e;const i=o&&o.length>0?new yn(...o):new yn;let{props:s=void 0}=e,{color:a=void 0}=e,{intensity:u=void 0}=e;function c(){return i}return fe(()=>(console.info("SVELTHREE > onMount : AmbientLight"),()=>{console.info("SVELTHREE > onDestroy : AmbientLight!")})),r.$$set=d=>{"scene"in d&&t(0,n=d.scene),"params"in d&&t(5,o=d.params),"props"in d&&t(1,s=d.props),"color"in d&&t(2,a=d.color),"intensity"in d&&t(3,u=d.intensity)},[n,s,a,u,i,o,c]}class mi extends re{constructor(e){super();ie(this,e,di,hi,oe,{scene:0,params:5,props:1,color:2,intensity:3,getLight:6})}get scene(){return this.$$.ctx[0]}set scene(e){this.$set({scene:e})}get params(){return this.$$.ctx[5]}set params(e){this.$set({params:e})}get props(){return this.$$.ctx[1]}set props(e){this.$set({props:e})}get color(){return this.$$.ctx[2]}set color(e){this.$set({color:e})}get intensity(){return this.$$.ctx[3]}set intensity(e){this.$set({intensity:e})}get getLight(){return this.$$.ctx[6]}get $cty_config(){return{}}}const gi=r=>({scene:r&1}),vn=r=>({scene:r[0]});function Ei(r){let e;const t=r[13].default,n=Rt(t,r,r[12],vn);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,i){n&&n.m(o,i),e=!0},p(o,[i]){n&&n.p&&(!e||i&4097)&&Lt(n,t,o,o[12],e?Tt(t,o[12],i,gi):bt(o[12]),vn)},i(o){e||(F(n,o),e=!0)},o(o){z(n,o),e=!1},d(o){n&&n.d(o)}}}const Si="color: blue;font-weight:bold;",Ai="color: green;font-weight:bold;";function Mt(r,e,t){console.log(`${r}!`,`${e}`,t?"update time: "+t:"")}function yi(r,e,t){let n;Ae(r,k,P=>t(11,n=P));let{$$slots:o={},$$scope:i}=e,{logInfo:s=!1}=e,{logRS:a=!1}=e,{logLC:u=!1}=e,{id:c=void 0}=e;if(!c)throw console.warn("SVELTHREE > Scene : You have to provide an 'id' prop (not empty String) for Scenes in order to assign them to a 'WebGLRenderer' component!",{id:c}),new Error("SVELTHREE Exception (see warning above)");let{props:d=void 0}=e,{sti:g}=e,{mau:m=void 0}=e;if(g===void 0)throw console.warn("SVELTHREE > Scene : You have to provide a {sti} prop for the Scene!",{sti:g}),new Error("SVELTHREE Exception (see warning above)");const D=n[g];let h=new sr;function A(){t(0,()=>h.autoUpdate=!0,h,0),t(0,()=>h.matrixAutoUpdate=!0,h,1)}function C(){t(0,()=>h.autoUpdate=!1,h,0),t(0,()=>h.matrixAutoUpdate=!1,h,1)}h.userData.isActive=!1,h.userData.id=c,h.userData.sti=g,h.userData.animations=[],h.userData.indexInScenes=D.scenes.length,D.scenes.push({scene:h,id:c,isActive:!1}),fe(()=>{u&&Mt("--> Scene > onMount",null),s&&console.info("SVELTHREE > onMount : Scene",{sti:g}),console.warn("SVELTHREE > onMount : Scene : scene.matrixAutoUpdate:",h.matrixAutoUpdate);for(let P in d)switch(P){case"background":t(0,()=>h[P]=new Je(d[P]),h,2,[{p:P}]);break}return()=>{s&&console.info("SVELTHREE > onDestroy : Scene")}});let v,{update:T=void 0}=e;function L(){v||(v=n[g].rendererComponent.$on("before_render_scene",w))}function M(){v&&v()}function w(){O()}function O(P=!1){h.parent===null&&(h.matrixAutoUpdate===!1&&h.matrixWorldNeedsUpdate&&h.updateMatrix(),h.updateMatrixWorld(P))}let b,U,Q,G=!1;Ge(()=>{u&&Mt("%c----> Scene > beforeUpdate",Si),G||(U=performance.now()),G=!0}),qe(()=>{Z()});function Z(){if(h)h.autoUpdate===!1&&T==="change"&&G&&(O(),G=!1,Q=performance.now(),b=Q-U,u&&Mt("%c----> Scene > afterUpdate",Ai,b));else throw new Error("SVELTHREE Exception! > Oops, 'scene' is not available on 'afterUpdate', this is very wrong!")}function J(){return h}function y(){return c}return r.$$set=P=>{"logInfo"in P&&t(1,s=P.logInfo),"logRS"in P&&t(2,a=P.logRS),"logLC"in P&&t(3,u=P.logLC),"id"in P&&t(4,c=P.id),"props"in P&&t(5,d=P.props),"sti"in P&&t(6,g=P.sti),"mau"in P&&t(7,m=P.mau),"update"in P&&t(8,T=P.update),"$$scope"in P&&t(12,i=P.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&(m?A():C()),r.$$.dirty&2369&&(h.autoUpdate===!1&&T==="before_render"&&n[g].rendererComponent?L():M())},[h,s,a,u,c,d,g,m,T,J,y,n,i,o]}class Ri extends re{constructor(e){super();ie(this,e,yi,Ei,oe,{logInfo:1,logRS:2,logLC:3,id:4,props:5,sti:6,mau:7,update:8,getScene:9,getId:10})}get logInfo(){return this.$$.ctx[1]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[2]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[3]}set logLC(e){this.$set({logLC:e})}get id(){return this.$$.ctx[4]}set id(e){this.$set({id:e})}get props(){return this.$$.ctx[5]}set props(e){this.$set({props:e})}get sti(){return this.$$.ctx[6]}set sti(e){this.$set({sti:e})}get mau(){return this.$$.ctx[7]}set mau(e){this.$set({mau:e})}get update(){return this.$$.ctx[8]}set update(e){this.$set({update:e})}get getScene(){return this.$$.ctx[9]}get getId(){return this.$$.ctx[10]}get $cty_config(){return{0:{head_ctx_i:0,members:["autoUpdate"]},1:{head_ctx_i:0,members:["matrixAutoUpdate"]},2:{head_ctx_i:0,members:["p"]}}}}function Li(r,e,t){let n;Ae(r,k,u=>t(2,n=u));let{sti:o}=e;function i(u=void 0,c=void 0){if(n[o].xr.hitTestSourceRequested===!1&&(s(u),B(k,n[o].xr.hitTestSourceRequested=!0,n)),n[o].xr.hitTestSource){let d=c.getHitTestResults(n[o].xr.hitTestSource);B(k,n[o].xr.hitTestResults=d,n)}}function s(u=void 0){u.requestReferenceSpace("viewer").then(function(c){u.requestHitTestSource({space:c}).then(function(d){B(k,n[o].xr.hitTestSource=d,n)})}),u.addEventListener("end",function(){a()})}function a(){B(k,n[o].xr.hitTestSourceRequested=!1,n),B(k,n[o].xr.hitTestSource=null,n)}return r.$$set=u=>{"sti"in u&&t(0,o=u.sti)},[o,i]}class bi extends re{constructor(e){super();ie(this,e,Li,null,oe,{sti:0,performRealWorldHitTest:1})}get sti(){return this.$$.ctx[0]}set sti(e){this.$set({sti:e})}get performRealWorldHitTest(){return this.$$.ctx[1]}get $cty_config(){return{}}}function Ti(r){let e,t,n={sti:r[0]};return e=new bi({props:n}),r[28](e),{c(){j(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,i){$(e,o,i),t=!0},p(o,i){const s={};i[0]&1&&(s.sti=o[0]),e.$set(s)},i(o){t||(F(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){r[28](null),ee(e,o)}}}const Te="color: red;font-weight:bold;",wi="color: blue;font-weight:bold;",Pi="color: green;font-weight:bold;";function In(r,e){console.log(`${r}!`,`${e}`)}function pi(r,e,t){let n;Ae(r,k,V=>t(27,n=V));let{logInfo:o=!1}=e,{logRS:i=!1}=e,{logLC:s=!1}=e,a=An();function u(){return a}let c,d=Sn(),{config:g=void 0}=e,{props:m=void 0}=e,D,{enableShadowMap:h=!1}=e,{shadowMapType:A=ar}=e,{sceneId:C}=e,{camId:v}=e,T,L,M="",w="",O,{sti:b}=e;if(b===void 0)throw console.warn("SVELTHREE > Scene : You have to provide a {sti} prop for the WebGLRenderer component!",{sti:b}),new Error("SVELTHREE Exception (see warning above)");function U(){i&&console.log("%c------> WebGLRenderer > reactive statement! > createRenderer! at start",`${Te}`,{renderer:c}),t(17,c=new cr(Ze({canvas:n[b].canvas.dom},g))),t(22,O=n[b].canvas.dom),B(k,n[b].renderer=c,n),B(k,n[b].rendererComponent=d,n),i&&console.log("%c------> WebGLRenderer > reactive statement! > createRenderer! at end",`${Te}`,{renderer:c})}function Q(){t(17,()=>c.shadowMap.enabled=!!h,c,0),i&&console.log("%c------> WebGLRenderer > reactive statement! > setShadowMapStatus!",`${Te}`,{enableShadowMap:h},{"renderer.shadowMap.enabled":c.shadowMap.enabled})}function G(){t(17,()=>c.shadowMap.type=A,c,1),i&&console.log("%c------> WebGLRenderer > reactive statement! > setShadowMapType!",`${Te}`,{"shadowMap.enabled":c.shadowMap.enabled},{"shadowMap.type":c.shadowMap.type})}function Z(){if(i&&console.log("%c------> WebGLRenderer > reactive statement! > updateProps!",`${Te}`,m),D===void 0){const V=Object.keys(m);S.updateProps(V,m,Y.update,c),D=Ze({},m)}else{const V=S.getChangedKeys(m,D);S.updateProps(V,m,Y.update,c),D=Ze({},m)}}let{xr:J=void 0}=e;function y(){t(17,()=>c.xr.enabled=!!J,c,2),i&&console.log("%c------> WebGLRenderer > reactive statement! setXr!",`${Te}`,{xr:J},{"renderer.xr.enabled":c.xr.enabled})}function P(){i&&console.log("%c------> WebGLRenderer > reactive statement! > setCurrentScene!",`${Te}`,{sceneToRenderId:C}),t(18,T=W()),de()}function I(){i&&console.log("%c------> WebGLRenderer > reactive statement! > setCurrentCam!",`${Te}`,{currentSceneId:M}),t(19,L=he()),p()}let N=!1,f,l;fe(()=>(o&&console.info("SVELTHREE > onMount : WebGLRenderer"),()=>{Ee()})),Ge(()=>{s&&In("%c----> WebGLRenderer > beforeUpdate",wi)}),qe(()=>{s&&In("%c----> WebGLRenderer > afterUpdate",Pi)});function p(){o&&console.info("SVELTHREE > WebGLRenderer : setCurrentCamActive",{currentCam:L.type,uuid:L.uuid,isActive:L.userData.isActive}),t(19,()=>L.userData.isActive=!0,L,3),B(k,n[b].cameras[L.userData.indexInCameras].isActive=!0,n),B(k,n[b].activeCamera=L,n),o&&console.info("SVELTHREE > WebGLRenderer : setCurrentCamActive",{currentCam:L.type,uuid:L.uuid,isActive:L.userData.isActive},"done!")}function H(){o&&console.info("SVELTHREE > WebGLRenderer : setCurrentCamInactive",{currentCam:L.type,uuid:L.uuid,isActive:L.userData.isActive}),t(19,()=>L.userData.isActive=!1,L,3),B(k,n[b].cameras[L.userData.indexInCameras].isActive=!1,n),o&&console.info("SVELTHREE > WebGLRenderer : setCurrentCamInactive",{currentCam:L.type,uuid:L.uuid,isActive:L.userData.isActive},"done!")}function W(){if(o&&console.info("SVELTHREE > WebGLRenderer : getSceneToRender!"),n[b].scenes.length>0){if(C===void 0)throw console.warn("SVELTHREE > WebGLRenderer : You have to provide the 'sceneId' prop!",{sceneId:C}),new Error("SVELTHREE Exception (see warning above)");for(let V=0;V<n[b].scenes.length;V++){let ae=n[b].scenes[V];if(ae.id===C)return t(20,M=C),ae.scene}throw console.warn("SVELTHREE > WebGLRenderer : Scene with id '"+C+"' not found!",{scenes:n[b].scenes}),new Error("SVELTHREE Exception (see warning above)")}else throw console.warn("SVELTHREE > WebGLRenderer : getSceneToRender: No Scenes available!",{scenes:n[b].scenes}),new Error("SVELTHREE Exception (see warning above)")}function he(){if(o&&console.info("SVELTHREE > WebGLRenderer : getCamToRender!"),n[b].cameras.length>0){if(v===void 0)throw console.warn("SVELTHREE > WebGLRenderer : You have to provide the 'camId' prop!",{camId:v}),new Error("SVELTHREE Exception (see warning above)");for(let V=0;V<n[b].cameras.length;V++){let ae=n[b].cameras[V];if(ae.id===v)return t(21,w=v),ae.camera}throw console.warn("SVELTHREE > WebGLRenderer : Camera with id '"+v+"' not found!",{cameras:n[b].cameras}),new Error("SVELTHREE Exception (see warning above)")}else throw console.warn("SVELTHREE > WebGLRenderer : getCamToRender: No Cameras available! $svelthreeStores[sti].cameras:",{cameras:n[b].cameras}),new Error("SVELTHREE Exception (see warning above)")}function ue(){T.userData.isActive===!0&&(t(18,()=>T.userData.isActive=!1,T,4),B(k,n[b].scenes[T.userData.indexInScenes].isActive=!1,n))}function de(){T.userData.isActive===!1?(t(18,()=>T.userData.isActive=!0,T,4),B(k,n[b].scenes[T.userData.indexInScenes].isActive=!0,n),B(k,n[b].currentSceneIndex=T.userData.indexInScenes+1,n)):T.userData.isActive===void 0&&(o&&console.info(T),t(18,()=>T.userData.isActive=!0,T,4),B(k,n[b].scenes[T.userData.indexInScenes].isActive=!0,n),B(k,n[b].currentSceneIndex=T.userData.indexInScenes+1,n))}let me=!1,ge;function Re(){console.warn("SVELTHREE > WebGLRenderer > startAnimating!"),me=!0,we()}function Ee(){me=!1,cancelAnimationFrame(ge)}let ne=!0,le=!1,se;function x(V){V&&n[b].allIntersections[0].object.userData.interact?document.body.style.cursor="pointer":n[b].orbitcontrols?document.body.style.cursor="all-scroll":document.body.style.cursor="default"}let xe=!0;function Ce(){n[b].pointer.isOverCanvas?(xe=!1,n[b].allIntersections&&(n[b].allIntersections.length>0?x(!0):x(!1))):xe||(xe=!0,document.body.style.cursor="default")}let Se;function we(){c.xr.enabled===!1?ve():c.setAnimationLoop(_)}let Pe;async function ve(){if(me){if(ne&&pe("renderStandard"),le&&(se.setFromCamera(n[b].pointer.pos,L),Se=T.children.filter(V=>V.type==="Mesh"),B(k,n[b].allIntersections=se.intersectObjects(Se,!0),n)),le&&Ce(),n[b].orbitcontrols&&n[b].orbitcontrols.update(),n[b].cubeCameras.length>0)for(let V=0;V<n[b].cubeCameras.length;V++)n[b].cubeCameras[V].doUpdate();a("before_render"),a("before_render_int"),a("before_render_scene"),await Rn(),N&&(c.setSize(f,l,!0),N=!1),c.render(T,L),a("after_render"),ge=requestAnimationFrame(we)}}let Me;async function _(V,ae){if(me){if(ne&&pe("renderXR"),ft(),a("before_render"),a("before_render_int"),a("before_render_scene"),await Rn(),ae){let Oe;switch(Me?(Oe=V-Me,Me=V):(Me=V,Oe=0),B(k,n[b].xr.currentFrame={timestamp:V,delta:Oe,frame:ae},n),a("xrframe",{timestamp:V,delta:Oe,frame:ae}),n[b].xr.sessionMode){case K.SESSION_MODE_INLINE:console.error("SVELTHREE > WebGLRenderer > renderXR : XRSessionMode 'inline' is not yet implemented!");break;case K.SESSION_MODE_AR:ht(ae);break}}N&&(c.setSize(f,l,!0),N=!1),c.render(T,L),a("after_render")}}function pe(V){ne=!1,o&&console.info(`SVELTHREE > WebGLRenderer > animate : ${V}`,T,L,O)}function ft(){if(n[b].cubeCameras.length>0)for(let V=0;V<n[b].cubeCameras.length;V++)n[b].cubeCameras[V].doUpdate()}function ht(V=void 0){let ae=c.xr.getSession();n[b].xr.hitTestMode===K.HITTEST_MODE_REALWORLD?Pe.performRealWorldHitTest(ae,V):n[b].xr.hitTestResults!==void 0&&B(k,n[b].xr.hitTestResults=void 0,n)}function dt(){return c}function mt(){return L}function gt(V={sceneId:"",camId:""}){t(2,C=V.sceneId),t(3,v=V.camId)}function Et(V){He[V?"unshift":"push"](()=>{Pe=V,t(1,Pe)})}return r.$$set=V=>{"logInfo"in V&&t(4,o=V.logInfo),"logRS"in V&&t(5,i=V.logRS),"logLC"in V&&t(6,s=V.logLC),"config"in V&&t(8,g=V.config),"props"in V&&t(9,m=V.props),"enableShadowMap"in V&&t(10,h=V.enableShadowMap),"shadowMapType"in V&&t(11,A=V.shadowMapType),"sceneId"in V&&t(2,C=V.sceneId),"camId"in V&&t(3,v=V.camId),"sti"in V&&t(0,b=V.sti),"xr"in V&&t(12,J=V.xr)},r.$$.update=()=>{r.$$.dirty[0]&134348801&&(c||n[b].canvas.dom&&U()),r.$$.dirty[0]&131072&&c&&Q(),r.$$.dirty[0]&131072&&c&&c.shadowMap.enabled&&G(),r.$$.dirty[0]&131584&&c&&m&&Z(),r.$$.dirty[0]&131072&&c&&y(),r.$$.dirty[0]&3932204&&(i&&console.log("%c------> WebGLRenderer > reactive statement! [TODO ???] > sceneToRenderId !== currentSceneId",`${Te}`,C!==M),C!==M&&T&&(ue(),t(18,T=W()),de()),i&&console.log("%c------> WebGLRenderer > reactive statement! [TODO ???] > camToRenderId !== currentCamId",`${Te}`,v!==w),v!==w&&L&&L&&(H(),t(19,L=he()),p())),r.$$.dirty[0]&262148&&!T&&C&&P(),r.$$.dirty[0]&1572864&&!L&&M&&I(),r.$$.dirty[0]&134217729&&t(23,f=n[b].canvas.dim.w),r.$$.dirty[0]&134217729&&t(24,l=n[b].canvas.dim.h),r.$$.dirty[0]&29360160&&(f||l)&&O&&(i&&console.log("%c------> WebGLRenderer > reactive statement! [TODO ???] > if storeCanvasDimW || storeCanvasDimH && canvas ",`${Te}`,{storeCanvasDimW:f},{storeCanvasDimH:l}),N=!0),r.$$.dirty[0]&131104&&c&&(i&&console.log("%c------> WebGLRenderer > reactive statement! renderer (> startAnimating)",`${Te}`,c),Re()),r.$$.dirty[0]&134217729&&t(25,le=n[b].canvas.interactive),r.$$.dirty[0]&234881025&&(le?se||t(26,se=n[b].raycaster):t(26,se=null))},[b,Pe,C,v,o,i,s,u,g,m,h,A,J,Ee,dt,mt,gt,c,T,L,M,w,O,f,l,le,se,n,Et]}class Vi extends re{constructor(e){super();ie(this,e,pi,Ti,oe,{logInfo:4,logRS:5,logLC:6,getDispatcher:7,config:8,props:9,enableShadowMap:10,shadowMapType:11,sceneId:2,camId:3,sti:0,xr:12,stopAnimating:13,getRenderer:14,getCurrentCamera:15,setRender:16},null,[-1,-1])}get logInfo(){return this.$$.ctx[4]}set logInfo(e){this.$set({logInfo:e})}get logRS(){return this.$$.ctx[5]}set logRS(e){this.$set({logRS:e})}get logLC(){return this.$$.ctx[6]}set logLC(e){this.$set({logLC:e})}get getDispatcher(){return this.$$.ctx[7]}get config(){return this.$$.ctx[8]}set config(e){this.$set({config:e})}get props(){return this.$$.ctx[9]}set props(e){this.$set({props:e})}get enableShadowMap(){return this.$$.ctx[10]}set enableShadowMap(e){this.$set({enableShadowMap:e})}get shadowMapType(){return this.$$.ctx[11]}set shadowMapType(e){this.$set({shadowMapType:e})}get sceneId(){return this.$$.ctx[2]}set sceneId(e){this.$set({sceneId:e})}get camId(){return this.$$.ctx[3]}set camId(e){this.$set({camId:e})}get sti(){return this.$$.ctx[0]}set sti(e){this.$set({sti:e})}get xr(){return this.$$.ctx[12]}set xr(e){this.$set({xr:e})}get stopAnimating(){return this.$$.ctx[13]}get getRenderer(){return this.$$.ctx[14]}get getCurrentCamera(){return this.$$.ctx[15]}get setRender(){return this.$$.ctx[16]}get $cty_config(){return{0:{head_ctx_i:17,members:["shadowMap","enabled"]},1:{head_ctx_i:17,members:["shadowMap","type"]},2:{head_ctx_i:17,members:["xr","enabled"]},3:{head_ctx_i:19,members:["userData","isActive"]},4:{head_ctx_i:18,members:["userData","isActive"]}}}}function _i(r,e,t){let n;Ae(r,k,h=>t(6,n=h));let{scene:o}=e,{enableDamping:i=!1}=e,{autoRotate:s=!1}=e,a,{props:u=void 0}=e;const c=lt.getSTIfromScene(o,"OrbitControls");let d;function g(){try{B(k,n[c].orbitcontrols=new ur(n[c].activeCamera,n[c].renderer.domElement),n),B(k,n[c].orbitcontrols.enableDamping=i,n),B(k,n[c].orbitcontrols.autoRotate=s,n),t(5,d=n[c].orbitcontrols)}catch(h){console.info(h),console.info(n[c]),console.info(o,c)}}function m(){n[c].orbitcontrols&&B(k,n[c].orbitcontrols.enableDamping=i,n)}function D(){n[c].orbitcontrols&&B(k,n[c].orbitcontrols.autoRotate=s,n)}return fe(()=>(console.info("SVELTHREE > onMount : OrbitControls"),()=>{console.info("SVELTHREE > onDestroy : OrbitControls")})),r.$$set=h=>{"scene"in h&&t(0,o=h.scene),"enableDamping"in h&&t(1,i=h.enableDamping),"autoRotate"in h&&t(2,s=h.autoRotate),"props"in h&&t(3,u=h.props)},r.$$.update=()=>{r.$$.dirty&48&&!a&&d&&t(4,a=new Qe(d)),r.$$.dirty&24&&u&&a&&a.update(u),r.$$.dirty&96&&n[c].renderer&&!d&&g(),r.$$.dirty&2&&(i||!i)&&m(),r.$$.dirty&4&&(s||!s)&&D()},[o,i,s,u,a,d,n]}class xi extends re{constructor(e){super();ie(this,e,_i,null,oe,{scene:0,enableDamping:1,autoRotate:2,props:3})}get scene(){return this.$$.ctx[0]}set scene(e){this.$set({scene:e})}get enableDamping(){return this.$$.ctx[1]}set enableDamping(e){this.$set({enableDamping:e})}get autoRotate(){return this.$$.ctx[2]}set autoRotate(e){this.$set({autoRotate:e})}get props(){return this.$$.ctx[3]}set props(e){this.$set({props:e})}get $cty_config(){return{}}}function Ci(r){let e,t,n,o,i,s,a,u,c,d,g;e=new Qr({props:{scene:r[7],id:"cam1",props:{position:[0,0,2e3],lookAt:[0,0,0]}}}),n=new fi({props:{scene:r[7]}}),i=new mi({props:{scene:r[7],props:{color:16777215,intensity:1}}});function m(h){r[4](h)}let D={scene:r[7],geometry:r[1],material:r[2],mat:{color:16727552},pos:[0,0,0],interact:!0};return r[0]!==void 0&&(D.getPoints=r[0]),a=new $r({props:D}),He.push(()=>at(a,"getPoints",m)),d=new xi({props:{scene:r[7],autoRotate:!0,enableDamping:!0}}),{c(){j(e.$$.fragment),t=Le(),j(n.$$.fragment),o=Le(),j(i.$$.fragment),s=Le(),j(a.$$.fragment),c=Le(),j(d.$$.fragment)},l(h){X(e.$$.fragment,h),t=be(h),X(n.$$.fragment,h),o=be(h),X(i.$$.fragment,h),s=be(h),X(a.$$.fragment,h),c=be(h),X(d.$$.fragment,h)},m(h,A){$(e,h,A),ce(h,t,A),$(n,h,A),ce(h,o,A),$(i,h,A),ce(h,s,A),$(a,h,A),ce(h,c,A),$(d,h,A),g=!0},p(h,A){const C={};A&128&&(C.scene=h[7]),e.$set(C);const v={};A&128&&(v.scene=h[7]),n.$set(v);const T={};A&128&&(T.scene=h[7]),i.$set(T);const L={};A&128&&(L.scene=h[7]),!u&&A&1&&(u=!0,L.getPoints=h[0],ct(()=>u=!1)),a.$set(L);const M={};A&128&&(M.scene=h[7]),d.$set(M)},i(h){g||(F(e.$$.fragment,h),F(n.$$.fragment,h),F(i.$$.fragment,h),F(a.$$.fragment,h),F(d.$$.fragment,h),g=!0)},o(h){z(e.$$.fragment,h),z(n.$$.fragment,h),z(i.$$.fragment,h),z(a.$$.fragment,h),z(d.$$.fragment,h),g=!1},d(h){ee(e,h),h&&te(t),ee(n,h),h&&te(o),ee(i,h),h&&te(s),ee(a,h),h&&te(c),ee(d,h)}}}function Hi(r){let e,t,n,o;return e=new Ri({props:{sti:r[6],id:"scene1",props:{background:15594231},$$slots:{default:[Ci,({scene:i})=>({7:i}),({scene:i})=>i?128:0]},$$scope:{ctx:r}}}),n=new Vi({props:{sti:r[6],sceneId:"scene1",camId:"cam1",config:{antialias:!0,alpha:!1}}}),{c(){j(e.$$.fragment),t=Le(),j(n.$$.fragment)},l(i){X(e.$$.fragment,i),t=be(i),X(n.$$.fragment,i)},m(i,s){$(e,i,s),ce(i,t,s),$(n,i,s),o=!0},p(i,s){const a={};s&64&&(a.sti=i[6]),s&385&&(a.$$scope={dirty:s,ctx:i}),e.$set(a);const u={};s&64&&(u.sti=i[6]),n.$set(u)},i(i){o||(F(e.$$.fragment,i),F(n.$$.fragment,i),o=!0)},o(i){z(e.$$.fragment,i),z(n.$$.fragment,i),o=!1},d(i){ee(e,i),i&&te(t),ee(n,i)}}}function vi(r){let e,t,n,o,i,s,a,u;return a=new oi({props:{w:800,h:600,interactive:!0,style:"margin: auto; border: 1px solid;",$$slots:{default:[Hi,({sti:c})=>({6:c}),({sti:c})=>c?64:0]},$$scope:{ctx:r}}}),a.$on("wheel",r[3]),{c(){e=wt("h1"),t=Vt("SvelteKit + "),n=wt("a"),o=Vt("svelthree"),i=Vt(" Integration Test"),s=Le(),j(a.$$.fragment),this.h()},l(c){e=Pt(c,"H1",{});var d=pt(e);t=_t(d,"SvelteKit + "),n=Pt(d,"A",{href:!0});var g=pt(n);o=_t(g,"svelthree"),g.forEach(te),i=_t(d," Integration Test"),d.forEach(te),s=be(c),X(a.$$.fragment,c),this.h()},h(){Ie(n,"href","https://github.com/vatro/svelthree")},m(c,d){ce(c,e,d),ut(e,t),ut(e,n),ut(n,o),ut(e,i),ce(c,s,d),$(a,c,d),u=!0},p(c,[d]){const g={};d&321&&(g.$$scope={dirty:d,ctx:c}),a.$set(g)},i(c){u||(F(a.$$.fragment,c),u=!0)},o(c){z(a.$$.fragment,c),u=!1},d(c){c&&te(e),c&&te(s),ee(a,c)}}}const Oi=!0;function Ii(r,e,t){const n=[];for(let c=0;c<3e3;c++){const d=xt.randFloatSpread(1e3),g=xt.randFloatSpread(1e3),m=xt.randFloatSpread(1e3);n.push(d,g,m)}const o=new ye;o.setAttribute("position",new lr(n,3));const i=new fr({color:8947848,size:10,sizeAttenuation:!0});function s(c){let d=a();hr.to(d.scale,{duration:1,x:d.scale.x+c.deltaY/500,y:d.scale.y+c.deltaY/500,z:d.scale.z+c.deltaY/500,ease:"elastic.out"})}let a;function u(c){a=c,t(0,a)}return[a,o,i,s,u]}class ki extends re{constructor(e){super();ie(this,e,Ii,vi,oe,{})}get $cty_config(){return{}}}export{ki as default,Oi as prerender};
